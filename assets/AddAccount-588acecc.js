import{c as v,a0 as H,a1 as I,a2 as C,d as k,a3 as W,B as N,a4 as S,a5 as B,m as D,u as V,l as T,r as o,o as c,x as d,w as t,q as a,t as _,v as i,y as q,T as u,J as G,K as F,p as f,a6 as $,a7 as j,Y as O,$ as L}from"./index-81765eca.js";import{G as U,a as z,b as E,c as J,d as K}from"./GdsNotifyTitle-d6e937f8.js";const R={name:"add-account-details",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:H,WraCardText:I,WraCardTitle:C,WraCardHeader:k,WraTextInput:W,WraValidationTooltip:N,ButtonGroup:S},data(){return{showValidation:!1,userInputs:{email:{input:"",required:!0}}}},methods:{validateAnswers:function(){if(!B(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{email:this.userInputs.email.input}),this.$emit("nextPressed","AddAccountPermissions")},loadHistory:function(){let e=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.email.input=(e==null?void 0:e.email)??""}},computed:{...D(V,["account"])},created(){this.loadHistory()}},M=e=>(G("data-v-f89f4a2e"),e=e(),F(),e),Y=M(()=>f("span",{class:"sr-only"},"Error:",-1)),Q=M(()=>f("p",{class:"mb-2"}," The email will only be used to send the member a receipt ",-1));function X(e,s,n,P,r,l){const m=o("wra-validation-tooltip"),x=o("wra-card-text"),h=o("wra-card-header"),g=o("wra-card-title"),w=o("wra-text-input"),A=o("wra-card-actions"),b=o("button-group"),y=o("wra-card");return c(),d(y,{class:"pa-8"},{default:t(()=>[a(u,{name:"translate",mod:"out-in"},{default:t(()=>[r.showValidation?(c(),d(x,{class:"pb-6",key:n.addAccountText.accountDetails.title},{default:t(()=>[a(m,{type:"wra-error",role:"alert"},{default:t(()=>[Y,_(" "+i(n.addAccountText.accountDetails.validation),1)]),_:1})]),_:1})):q("",!0)]),_:1}),a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),d(g,{class:"pt-0 px-0 pb-4",key:n.addAccountText.accountDetails.title},{default:t(()=>[a(h,{size:"h2"},{default:t(()=>[_(i(n.addAccountText.accountDetails.title),1)]),_:1})]),_:1}))]),_:1}),Q,a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),d(A,{class:"pt-2 pb-6 text-input",key:n.addAccountText.accountDetails.emailLabel},{default:t(()=>[a(w,{modelValue:r.userInputs.email.input,"onUpdate:modelValue":s[0]||(s[0]=p=>r.userInputs.email.input=p),inputmode:"email",id:"email",label:n.addAccountText.accountDetails.emailLabel},null,8,["modelValue","label"])]),_:1}))]),_:1}),a(b,{regText:n.addAccountText,onBackPressed:s[1]||(s[1]=p=>e.$emit("backPressed")),onNextPressed:s[2]||(s[2]=p=>l.validateAnswers())},null,8,["regText"])]),_:1})}const Z=T(R,[["render",X],["__scopeId","data-v-f89f4a2e"]]),tt={name:"add-account-permissions",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:H,WraCardText:I,WraCardTitle:C,WraCardHeader:k,WraRadioGroup:$,WraValidationTooltip:N,ButtonGroup:S},data(){return{showValidation:!1,userInputs:{permissions:{input:null,required:!0}}}},methods:{validateAnswers:function(){if(!B(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{permission:this.userInputs.permissions.input}),this.$emit("nextPressed","AddAccountConfirmation")},loadHistory:function(){let e=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.permissions.input=(e==null?void 0:e.permission)??null}},computed:{...D(V,["account"])},created(){this.loadHistory()}},et=f("span",{class:"sr-only"},"Error:",-1),nt={class:"mb-2"};function ot(e,s,n,P,r,l){const m=o("wra-validation-tooltip"),x=o("wra-card-text"),h=o("wra-card-header"),g=o("wra-card-title"),w=o("wra-radio-group"),A=o("wra-card-actions"),b=o("button-group"),y=o("wra-card");return c(),d(y,{class:"pa-8"},{default:t(()=>[a(u,{name:"translate",mod:"out-in"},{default:t(()=>[r.showValidation?(c(),d(x,{class:"pb-6",key:n.addAccountText.accountPermissions.title},{default:t(()=>[a(m,{type:"wra-error",role:"alert"},{default:t(()=>[et,_(" "+i(n.addAccountText.accountPermissions.validation),1)]),_:1})]),_:1})):q("",!0)]),_:1}),a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),d(g,{class:"pt-0 px-0 pb-4",key:n.addAccountText.accountPermissions.title},{default:t(()=>[a(h,{size:"h2"},{default:t(()=>[_(i(n.addAccountText.accountPermissions.title),1)]),_:1})]),_:1}))]),_:1}),f("p",nt,i(n.addAccountText.accountPermissions.permissionDesc),1),a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),d(A,{class:"pt-2 pb-6",key:n.addAccountText.accountPermissions.desc},{default:t(()=>[a(w,{modelValue:r.userInputs.permissions.input,"onUpdate:modelValue":s[0]||(s[0]=p=>r.userInputs.permissions.input=p),"group-name":"account-permission",options:n.addAccountText.accountPermissions.permissionPref.answers,hint:"account-permssion-hint"},null,8,["modelValue","options"])]),_:1}))]),_:1}),a(b,{regText:n.addAccountText,onBackPressed:s[1]||(s[1]=p=>e.$emit("backPressed")),onNextPressed:l.validateAnswers},null,8,["regText","onNextPressed"])]),_:1})}const at=T(tt,[["render",ot]]),st={name:"add-account-confirmation",props:{addAccountText:{type:Object,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardText:I,WraCardTitle:C,WraCardHeader:k,GdsNotify:U,GdsNotifyContent:z,GdsNotifyHeader:E,GdsNotifyHeading:J,GdsNotifyTitle:K,ButtonGroup:S},data(){return{memberData:{email:null,permission:null}}},methods:{endFlow:function(){this.accountStore.memberIncrement(),this.$router.push({name:"vlHome"})}},computed:{...D(V,["account"])},created(){Object.assign(this.memberData,this.accountStore.getMembers[this.accountStore.getMemberIndex])}};function rt(e,s,n,P,r,l){const m=o("gds-notify-title"),x=o("gds-notify-header"),h=o("gds-notify-heading"),g=o("gds-notify-content"),w=o("gds-notify"),A=o("button-group"),b=o("wra-card");return c(),d(b,{class:"pa-8"},{default:t(()=>[a(u,null,{default:t(()=>[f("div",null,[a(w,{success:!0},{default:t(()=>[a(x,null,{default:t(()=>[a(m,null,{default:t(()=>[_(i(n.addAccountText.accountConfirmation.notifyTitle),1)]),_:1})]),_:1}),a(g,null,{default:t(()=>[a(h,null,{default:t(()=>[_(i(`${r.memberData.email} ${n.addAccountText.accountConfirmation.notifyHeading} ${n.addAccountText.accountConfirmation.permissionLevels[this.memberData.permission]}`),1)]),_:1}),f("p",null,i(`${n.addAccountText.accountConfirmation.notifyText} ${r.memberData.email}`),1)]),_:1})]),_:1})])]),_:1}),a(A,{regText:n.addAccountText,onBackPressed:s[0]||(s[0]=y=>e.$emit("backPressed")),onNextPressed:s[1]||(s[1]=y=>e.$router.push({name:"vlHome"}))},null,8,["regText"])]),_:1})}const ct=T(st,[["render",rt]]),dt={name:"add-account",props:{lang:{type:String}},components:{FormBody:j,AddAccountDetails:Z,AddAccountPermissions:at,AddAccountConfirmation:ct},data(){return{currentComponent:"AddAccountDetails",addAccountText:{accountDetails:{}},componentStack:[],componentHistory:new Set}},methods:{getText:function(){O.get(`./text/${this.lang}/addAccount.json?v=2`).then(e=>{this.addAccountText=e.data})},nextPage:function(e){this.componentStack.push(this.currentComponent),this.componentHistory.add(this.currentComponent),this.currentComponent=e},previousPage:function(){this.currentComponent=this.componentStack.pop(),this.currentComponent===void 0&&this.$router.push({name:"vlHome"})}},created(){this.getText()},watch:{lang:{handler(){this.getText()}}}};function it(e,s,n,P,r,l){const m=o("form-body");return c(),d(m,{lang:n.lang,"wra-logo":!0,title:r.addAccountText.title,subtitle:r.addAccountText.subtitle},{default:t(()=>[a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),d(L(r.currentComponent),{key:r.currentComponent,onNextPressed:l.nextPage,onBackPressed:l.previousPage,"add-account-text":r.addAccountText,"edit-mode":e.False},null,40,["onNextPressed","onBackPressed","add-account-text","edit-mode"]))]),_:1})]),_:1},8,["lang","title","subtitle"])}const mt=T(dt,[["render",it]]);export{mt as default};

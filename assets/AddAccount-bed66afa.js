import{c as v,a0 as H,a1 as I,a2 as C,d as k,a3 as M,B as N,a4 as S,a5 as B,m as V,u as D,l as y,r as n,o as c,x as i,w as t,q as a,t as l,v as d,y as W,T as u,J as F,K as G,p as f,a6 as j,a7 as $,A as O,Y as E,n as L,Z as U,F as z,$ as J}from"./index-51e4c830.js";import{G as K,a as R,b as Y,c as Z,d as Q}from"./GdsNotifyTitle-2bca8f85.js";const X={name:"add-account-details",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:H,WraCardText:I,WraCardTitle:C,WraCardHeader:k,WraTextInput:M,WraValidationTooltip:N,ButtonGroup:S},data(){return{showValidation:!1,userInputs:{email:{input:"",required:!0}}}},methods:{validateAnswers:function(){if(!B(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{email:this.userInputs.email.input}),this.$emit("nextPressed","AddAccountPermissions")},loadHistory:function(){let e=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.email.input=(e==null?void 0:e.email)??""}},computed:{...V(D,["account"])},created(){this.loadHistory()}},q=e=>(F("data-v-f89f4a2e"),e=e(),G(),e),tt=q(()=>f("span",{class:"sr-only"},"Error:",-1)),et=q(()=>f("p",{class:"mb-2"}," The email will only be used to send the member a receipt ",-1));function nt(e,s,o,P,r,m){const p=n("wra-validation-tooltip"),_=n("wra-card-text"),h=n("wra-card-header"),w=n("wra-card-title"),g=n("wra-text-input"),A=n("wra-card-actions"),T=n("button-group"),b=n("wra-card");return c(),i(b,{class:"pa-8"},{default:t(()=>[a(u,{name:"translate",mod:"out-in"},{default:t(()=>[r.showValidation?(c(),i(_,{class:"pb-6",key:o.addAccountText.accountDetails.title},{default:t(()=>[a(p,{type:"wra-error",role:"alert"},{default:t(()=>[tt,l(" "+d(o.addAccountText.accountDetails.validation),1)]),_:1})]),_:1})):W("",!0)]),_:1}),a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(w,{class:"pt-0 px-0 pb-4",key:o.addAccountText.accountDetails.title},{default:t(()=>[a(h,{size:"h2"},{default:t(()=>[l(d(o.addAccountText.accountDetails.title),1)]),_:1})]),_:1}))]),_:1}),et,a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(A,{class:"pt-2 pb-6 text-input",key:o.addAccountText.accountDetails.emailLabel},{default:t(()=>[a(g,{modelValue:r.userInputs.email.input,"onUpdate:modelValue":s[0]||(s[0]=x=>r.userInputs.email.input=x),inputmode:"email",id:"email",label:o.addAccountText.accountDetails.emailLabel},null,8,["modelValue","label"])]),_:1}))]),_:1}),a(T,{regText:o.addAccountText,onBackPressed:s[1]||(s[1]=x=>e.$emit("backPressed")),onNextPressed:s[2]||(s[2]=x=>m.validateAnswers())},null,8,["regText"])]),_:1})}const at=y(X,[["render",nt],["__scopeId","data-v-f89f4a2e"]]),ot={name:"add-account-permissions",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:H,WraCardText:I,WraCardTitle:C,WraCardHeader:k,WraRadioGroup:j,WraValidationTooltip:N,ButtonGroup:S},data(){return{showValidation:!1,userInputs:{permissions:{input:null,required:!0}}}},methods:{validateAnswers:function(){if(!B(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{permission:this.userInputs.permissions.input}),this.$emit("nextPressed","AddAccountConfirmation")},loadHistory:function(){let e=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.permissions.input=(e==null?void 0:e.permission)??null}},computed:{...V(D,["account"])},created(){this.loadHistory()}},st=f("span",{class:"sr-only"},"Error:",-1),rt={class:"mb-2"};function ct(e,s,o,P,r,m){const p=n("wra-validation-tooltip"),_=n("wra-card-text"),h=n("wra-card-header"),w=n("wra-card-title"),g=n("wra-radio-group"),A=n("wra-card-actions"),T=n("button-group"),b=n("wra-card");return c(),i(b,{class:"pa-8"},{default:t(()=>[a(u,{name:"translate",mod:"out-in"},{default:t(()=>[r.showValidation?(c(),i(_,{class:"pb-6",key:o.addAccountText.accountPermissions.title},{default:t(()=>[a(p,{type:"wra-error",role:"alert"},{default:t(()=>[st,l(" "+d(o.addAccountText.accountPermissions.validation),1)]),_:1})]),_:1})):W("",!0)]),_:1}),a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(w,{class:"pt-0 px-0 pb-4",key:o.addAccountText.accountPermissions.title},{default:t(()=>[a(h,{size:"h2"},{default:t(()=>[l(d(o.addAccountText.accountPermissions.title),1)]),_:1})]),_:1}))]),_:1}),f("p",rt,d(o.addAccountText.accountPermissions.permissionDesc),1),a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(A,{class:"pt-2 pb-6",key:o.addAccountText.accountPermissions.desc},{default:t(()=>[a(g,{modelValue:r.userInputs.permissions.input,"onUpdate:modelValue":s[0]||(s[0]=x=>r.userInputs.permissions.input=x),"group-name":"account-permission",options:o.addAccountText.accountPermissions.permissionPref.answers,hint:"account-permssion-hint"},null,8,["modelValue","options"])]),_:1}))]),_:1}),a(T,{regText:o.addAccountText,onBackPressed:s[1]||(s[1]=x=>e.$emit("backPressed")),onNextPressed:m.validateAnswers},null,8,["regText","onNextPressed"])]),_:1})}const it=y(ot,[["render",ct]]),dt={name:"add-account-confirmation",props:{addAccountText:{type:Object,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardText:I,WraCardTitle:C,WraCardHeader:k,GdsNotify:K,GdsNotifyContent:R,GdsNotifyHeader:Y,GdsNotifyHeading:Z,GdsNotifyTitle:Q,ButtonGroup:S},data(){return{memberData:{email:null,permission:null}}},methods:{endFlow:function(){this.accountStore.memberIncrement(),this.$router.push({name:"vlHome"})}},computed:{...V(D,["account"])},created(){Object.assign(this.memberData,this.accountStore.getMembers[this.accountStore.getMemberIndex])}};function ut(e,s,o,P,r,m){const p=n("gds-notify-title"),_=n("gds-notify-header"),h=n("gds-notify-heading"),w=n("gds-notify-content"),g=n("gds-notify"),A=n("button-group"),T=n("wra-card");return c(),i(T,{class:"pa-8"},{default:t(()=>[a(u,null,{default:t(()=>[f("div",null,[a(g,{success:!0},{default:t(()=>[a(_,null,{default:t(()=>[a(p,null,{default:t(()=>[l(d(o.addAccountText.accountConfirmation.notifyTitle),1)]),_:1})]),_:1}),a(w,null,{default:t(()=>[a(h,null,{default:t(()=>[l(d(`${r.memberData.email} ${o.addAccountText.accountConfirmation.notifyHeading} ${o.addAccountText.accountConfirmation.permissionLevels[this.memberData.permission]}`),1)]),_:1}),f("p",null,d(`${o.addAccountText.accountConfirmation.notifyText} ${r.memberData.email}`),1)]),_:1})]),_:1})])]),_:1}),a(A,{regText:o.addAccountText,onBackPressed:s[0]||(s[0]=b=>e.$emit("backPressed")),onNextPressed:s[1]||(s[1]=b=>e.$router.push({name:"vlHome"}))},null,8,["regText"])]),_:1})}const lt=y(dt,[["render",ut]]),mt={name:"add-account",props:{lang:{type:String}},components:{WraTitle:$,WraViewTitle:O,AddAccountDetails:at,AddAccountPermissions:it,AddAccountConfirmation:lt},data(){return{currentComponent:"AddAccountDetails",addAccountText:{accountDetails:{}},componentStack:[],componentHistory:new Set}},methods:{getText:function(){E.get(`./text/${this.lang}/addAccount.json?v=2`).then(e=>{this.addAccountText=e.data})},nextPage:function(e){this.componentStack.push(this.currentComponent),this.componentHistory.add(this.currentComponent),this.currentComponent=e},previousPage:function(){this.currentComponent=this.componentStack.pop(),this.currentComponent===void 0&&this.$router.push({name:"vlHome"})}},created(){this.getText()},watch:{lang:{handler(){this.getText()}}}};function pt(e,s,o,P,r,m){const p=n("wra-title"),_=n("wra-view-title");return c(),L(z,null,[a(p,{class:"mt-6",lang:o.lang},null,8,["lang"]),a(U,{class:"pt-0 px-5 pb-10 mb-10"},{default:t(()=>[a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(_,{key:r.addAccountText.subtitle},{"sub-header":t(()=>[l(d(r.addAccountText.subtitle),1)]),"main-header":t(()=>[l(d(r.addAccountText.title),1)]),_:1}))]),_:1}),f("section",null,[a(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(J(r.currentComponent),{key:r.currentComponent,onNextPressed:m.nextPage,onBackPressed:m.previousPage,"add-account-text":r.addAccountText,"edit-mode":e.False},null,40,["onNextPressed","onBackPressed","add-account-text","edit-mode"]))]),_:1})])]),_:1})],64)}const xt=y(mt,[["render",pt]]);export{xt as default};

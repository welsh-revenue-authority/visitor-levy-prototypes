import{W as D,a as N,b as ne,_ as O,c as se,d as A,U as B,G as q,e as F,f as M,g as J,h as Y,i as z,j as Q,s as U,m as w,u as W,k as H,l as V,r,o as d,n as p,p as c,q as t,w as o,t as n,v as u,x as S,y as L,F as k,z as R,A as G,B as K,C as re,D as X,E as Z,H as ie,I,T as j,V as E,J as ee,K as te,L as ce,M as oe,N as le,O as de,P as ue,Q as me,R as _e,S as ae,X as pe,Y as fe,Z as he,$ as be}from"./index-9b25823a.js";import{G as ge,a as ve,b as we,c as Pe,d as ye}from"./GdsNotifyTitle-d0cf29fe.js";const Se={name:"home-view",props:{homeText:{type:Object,required:!0}},emits:["changePage"],components:{WraButton:D,WraServiceLogo:N,WraSubheader:ne,WraDivider:O,WraCard:se,WraHeader:A,UserToDo:B,GdsTable:q,GdsTableBody:F,GdsTableData:M,GdsTableHead:J,GdsTableHeader:Y,GdsTableRow:z,GdsTag:Q,GdsNotify:ge,GdsNotifyContent:ve,GdsNotifyHeader:we,GdsNotifyHeading:Pe,GdsNotifyTitle:ye},data(){return{accomProviderList:{}}},methods:{convertReadable:function(e){return e?e="Yes":e="No",e}},created(){if(this.accomProviderList=JSON.parse(JSON.stringify(this.providersStore.getProviders)),this.accomPresent=this.accomProviderList.length>0,!!this.accomPresent)for(const e of this.accomProviderList)Object.keys(e).length<=0||"accomodation"in e&&(e.accommodation.accomType=U(e.accommodation.accomType)??"",e.accommodation.accomMainRes=this.convertReadable(e.accommodation.accomMainRes)??"",e.accommodation.responsibleCurrentYear=this.convertReadable(e.accommodation.responsibleCurrentYear)??"")},computed:{...w(W,["account"]),...w(H,["providers"])}},ke=c("button",{class:"button-anchor"}," View ",-1),xe={key:1};function Le(e,a,m,x,i,s){const P=r("wra-header"),g=r("user-to-do"),l=r("gds-table-header"),h=r("gds-table-row"),y=r("gds-table-head"),v=r("gds-table-data"),T=r("gds-tag"),_=r("gds-table-body"),b=r("gds-table");return d(),p(k,null,[c("header",null,[t(P,{size:"h2",class:"pb-6"},{default:o(()=>[n(u(m.homeText.homeView.title),1)]),_:1})]),t(g,{"todo-text":m.homeText.todoList},null,8,["todo-text"]),i.accomProviderList.length>0?(d(),S(b,{key:0,class:"my-8",caption:"Levy payments"},{default:o(()=>[t(y,null,{default:o(()=>[t(h,null,{default:o(()=>[t(l,{scope:"col"},{default:o(()=>[n(" Period ")]),_:1}),t(l,{scope:"col",numeric:!0},{default:o(()=>[n(" Amount ")]),_:1}),t(l,{scope:"col",numeric:!0},{default:o(()=>[n(" Properties ")]),_:1}),t(l,{scope:"col",numeric:!0},{default:o(()=>[n(" Status ")]),_:1}),t(l,{scope:"col",numeric:!0})]),_:1})]),_:1}),t(_,null,{default:o(()=>[t(h,null,{default:o(()=>[t(l,{scope:"row"},{default:o(()=>[n(" Apr - Jun 2026 ")]),_:1}),t(v,{numeric:!0},{default:o(()=>[n(" Â£0 ")]),_:1}),t(v,{numeric:!0},{default:o(()=>[n(" 2 ")]),_:1}),t(v,{numeric:!0},{default:o(()=>[t(T,null,{default:o(()=>[n(" Starts soon ")]),_:1})]),_:1}),t(v,{nuermic:!0},{default:o(()=>[ke]),_:1})]),_:1})]),_:1})]),_:1})):L("",!0),i.accomProviderList.length>0?(d(),p("div",xe,[t(b,{caption:"Visitor accommodations registered"},{default:o(()=>[t(y,null,{default:o(()=>[t(l,{scope:"col"},{default:o(()=>[n(" Name ")]),_:1}),t(l,{scope:"col"},{default:o(()=>[n(" Address ")]),_:1}),t(l,{numeric:!0,scope:"col"},{default:o(()=>[n(" Council ")]),_:1}),t(l,{numeric:!0,scope:"col"})]),_:1}),t(_,null,{default:o(()=>[(d(!0),p(k,null,R(i.accomProviderList,(f,C)=>(d(),S(h,null,{default:o(()=>[t(l,null,{default:o(()=>{var $;return[n(u((($=f.accommodation)==null?void 0:$.accomName)??`${m.homeText.accommodationView.noNamePlaceholder} ${C+1}`),1)]}),_:2},1024),t(v,{scope:"row"},{default:o(()=>[n(u(f.accommodation.address.postcode),1)]),_:2},1024),t(v,{numeric:!0},{default:o(()=>[n(" Cardiff ")]),_:1}),t(v,{numeric:!0},{default:o(()=>[c("button",{class:"button-anchor",onClick:a[0]||(a[0]=$=>e.$emit("changePage","AccommodationView"))}," View ")]),_:1})]),_:2},1024))),256))]),_:1})]),_:1}),c("button",{class:"mb-8 button-anchor standalone-anchor",onClick:a[1]||(a[1]=f=>e.$emit("changePage","AccommodationView"))}," View properties ")])):L("",!0)],64)}const Te=V(Se,[["render",Le]]);const Ce={name:"accommodation-view",props:{homeText:{type:Object,required:!0}},emits:["changePage"],components:{WraButton:D,WraServiceLogo:N,WraViewTitle:G,WraHeader:A,WraDivider:O,WraValidationTooltip:K,UserToDo:B,GdsSummaryAccom:re,GdsSumCard:X,GdsSumCardActions:Z},data(){return{accomProviderList:[],accomPresent:!1,panels:[],tab:[],showLinkError:!1}},methods:{convertReadable:function(e){return e?e="Yes":e="No",e},editField:function(e,a){this.formStateStore.startEdit(a,[a],"AccommodationView"),this.formStateStore.setQueues([e]),this.$router.push({name:"vlRegistration"})},startProvider:function(e){this.$router.push({name:"vlRegistration"})},changePage:function(e){currentView=e},accomCompleteWrapper:function(e){return ie(e)},linkBusinesses:function(){if(this.formStateStore.getLiableQueue.length<=0){this.showLinkError=!0;return}let e=this.formStateStore.getLiableQueue.length==1?"LiablePersonSelect":"SmartSameProvider";this.formStateStore.setFormStartComponent(e),this.$router.push({name:"vlRegistration"})}},created(){this.accomProviderList=JSON.parse(JSON.stringify(this.providersStore.getProviders));for(const e of this.accomProviderList)if(!(Object.keys(e).length<=0)){if("accomodation"in e&&(e.accommodation.accomType=U(e.accommodation.accomType)??"",e.accommodation.accomMainRes=this.convertReadable(e.accommodation.accomMainRes)??"",e.accommodation.responsibleCurrentYear=this.convertReadable(e.accommodation.responsibleCurrentYear)??""),"contactPerson"in e){if("langPref"in e.contactPerson)try{e.contactPerson.langPref=e.contactPerson.langPref.charAt(0).toUpperCase()+e.contactPerson.langPref.slice(1)}catch{e.contactPerson.langPref=""}"contactPref"in e.contactPerson&&(e.contactPerson.contactPref.forEach((a,m)=>{m<=0&&(e.contactPerson.contactPref[m]=a.charAt(0).toUpperCase()+a.slice(1))}),e.contactPerson.contactPref=e.contactPerson.contactPref.join(", "))}"levy"in e&&(e.levy.annualReturn=this.convertReadable(e.levy.annualReturn)??"")}this.accomPresent=this.accomProviderList.length>0},computed:{...w(H,["providers"]),...w(I,["formState"]),accomText(){return this.homeText.accommodationView}}},Ve=e=>(ee("data-v-168bd91d"),e=e(),te(),e),Ae=Ve(()=>c("span",{class:"sr-only"},"Error:",-1)),$e={class:"mb-4"},Ne={class:"gds-sum-card-title"},Re=["onClick"],Ge={key:1,class:"no-provider pa-4"};function Ie(e,a,m,x,i,s){const P=r("wra-header"),g=r("wra-validation-tooltip"),l=r("user-to-do"),h=r("wra-button"),y=r("gds-sum-card-actions"),v=r("gds-summary-accom"),T=r("gds-sum-card");return d(),p(k,null,[t(P,{size:"h2",class:"mb-6"},{default:o(()=>[n(u(s.accomText.title),1)]),_:1}),t(j,{name:"translate",mod:"out-in"},{default:o(()=>[i.showLinkError?(d(),p("div",{class:"my-4",key:s.accomText.noLiableLink},[t(g,{type:"wra-error",role:"alert"},{default:o(()=>[Ae,n(" "+u(s.accomText.noLiableLink),1)]),_:1})])):L("",!0)]),_:1}),t(l,{"todo-text":m.homeText.todoList},null,8,["todo-text"]),t(h,{variant:"flat",color:"#019e1e",ripple:!0,class:"mb-4",lang:"en","prepend-icon":"mdi-home-plus",onClick:a[0]||(a[0]=_=>e.$router.push({name:"vlRegistration"}))},{default:o(()=>[n(u(s.accomText.addAccommodation),1)]),_:1}),t(h,{variant:"flat",color:"#019e1e",ripple:!0,class:"mb-4 ml-4",lang:"en","prepend-icon":"mdi-link-plus",onClick:a[1]||(a[1]=_=>s.linkBusinesses())},{default:o(()=>[n(u(s.accomText.linkLiable),1)]),_:1}),i.accomPresent?(d(!0),p(k,{key:0},R(i.accomProviderList,(_,b)=>(d(),p("div",$e,["accommodation"in _?(d(),S(T,{key:0},{title:o(()=>{var f;return[c("div",Ne,[t(E,{class:"mr-4 pb-1"},{default:o(()=>[n("mdi-home")]),_:1}),c("h3",null,u(((f=_.accommodation)==null?void 0:f.accomName)??`${s.accomText.noNamePlaceholder} ${b+1}`),1)]),t(y,null,{default:o(()=>[c("li",null,[s.accomCompleteWrapper(i.accomProviderList[b])?L("",!0):(d(),p("button",{key:0,class:"button-anchor",id:"fill-levy-button",onClick:C=>s.startProvider(b)},u(s.accomText.incomplete),9,Re))])]),_:2},1024)]}),default:o(()=>[t(v,{"accommodation-details":_.accommodation,onEditPressed:f=>s.editField(b,f)},null,8,["accommodation-details","onEditPressed"])]),_:2},1024)):(d(),p("div",Ge,[t(h,{color:"#c85442",variant:"flat",ripple:!1,class:"pa-8",id:"nextButton",onClick:f=>s.startProvider(b)},{default:o(()=>[n(u(s.accomText.completeReg),1)]),_:2},1032,["onClick"])]))]))),256)):L("",!0)],64)}const Ee=V(Ce,[["render",Ie],["__scopeId","data-v-168bd91d"]]);const De={name:"account-view",props:{homeText:{type:Object,requried:!0},accountInfo:{type:Object,required:!0}},emits:["editPressed"],components:{WraSimpleTable:ce,WraHeader:A,WraViewTitle:G,GdsTable:q,GdsTableBody:F,GdsTableData:M,GdsTableHead:J,GdsTableHeader:Y,GdsTableRow:z,GdsTag:Q},data(){return{accountInfo:{},members:[]}},methods:{convertReadable:function(e){return e?e="Yes":e="No",e},startAddAccount:function(){this.formStateStore.setReturnPage("AccountView")},editMember:function(e){this.accountStore.setMemberIndex(e),this.$router.push({name:"addAccount"})}},computed:{...w(I,["formState"]),...w(W,["account"])},created(){this.accountInfo=structuredClone(oe(this.accountStore.getAccountDetails)),this.members=this.accountStore.getMembers}},Oe=["onClick"];function Be(e,a,m,x,i,s){const P=r("wra-header"),g=r("gds-table-header"),l=r("gds-table-data"),h=r("gds-table-row"),y=r("gds-table-body"),v=r("gds-table"),T=r("gds-table-head"),_=r("gds-tag"),b=r("router-link");return d(),p(k,null,[t(P,{size:"h2",class:"mb-6"},{default:o(()=>[n(u(m.homeText.settings.title),1)]),_:1}),t(v,{class:"mt-6",caption:"Account information"},{default:o(()=>[t(y,null,{default:o(()=>[t(h,null,{default:o(()=>[t(g,{scope:"row"},{default:o(()=>[n(" Email ")]),_:1}),t(l,{numeric:!0},{default:o(()=>[n(u(i.accountInfo.email??"No email"),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(v,{class:"mt-6",caption:"Account members"},{default:o(()=>[t(T,null,{default:o(()=>[t(h,null,{default:o(()=>[t(g,null,{default:o(()=>[n("Email")]),_:1}),t(g,{scope:"col",numeric:!0},{default:o(()=>[n(" Permission ")]),_:1}),t(g,{scope:"col",numeric:!0},{default:o(()=>[n(" Added ")]),_:1}),t(g,{scope:"col",numeric:!0})]),_:1})]),_:1}),t(y,null,{default:o(()=>[i.members.length==0?(d(),S(h,{key:0},{default:o(()=>[t(l,null,{default:o(()=>[n("No members yet")]),_:1}),t(l),t(l),t(l)]),_:1})):L("",!0),(d(!0),p(k,null,R(i.members,(f,C)=>(d(),S(h,null,{default:o(()=>[t(g,{scope:"row"},{default:o(()=>[n(u(f.email),1)]),_:2},1024),t(l,{numeric:!0},{default:o(()=>[t(_,{color:"yellow"},{default:o(()=>[n(u(f.permission.charAt(0).toUpperCase()+f.permission.slice(1)),1)]),_:2},1024)]),_:2},1024),t(l,{numeric:!0},{default:o(()=>[n(u(new Date().toLocaleDateString()),1)]),_:1}),t(l,{numeric:!0},{default:o(()=>[c("button",{class:"button-anchor",onClick:$=>s.editMember(C)}," Change ",8,Oe)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),t(b,{class:"router-link-new-member",to:{name:"addAccount"},onClick:s.startAddAccount},{default:o(()=>[n(" Add new member ")]),_:1},8,["onClick"])],64)}const We=V(De,[["render",Be]]);const He={name:"liable-person-view",props:{homeText:{type:String,required:!0}},emits:["changePage"],components:{WraButton:D,WraServiceLogo:N,WraViewTitle:G,WraHeader:A,WraDivider:O,WraValidationTooltip:K,UserToDo:B,CompanyDetailsTable:le,AccomDetailsTable:de,IndividualTable:ue,GdsSummaryCompany:me,GdsSummaryIndividual:_e,GdsSumCard:X,GdsSumCardActions:Z},data(){return{panels:[],accomPanels:[],tabs:[],liablePeople:[],liablePeoplePresent:!1,showLinkError:!1}},methods:{editLiable:function(e,a){this.providersStore.setLiableIndex(e),a?this.formStateStore.startEdit("LiablePerson",["LiablePerson"],"LiableView"):this.formStateStore.startEdit("FirstLastName",["FirstLastName"],"LiableView"),this.$router.push({name:"vlRegistration"})},newLiable:function(){this.formStateStore.startEdit("LiableRelationship",["LiablePerson","FirstLastName"],"LiableView"),this.$router.push({name:"vlRegistration"})},linkedAccommodations:function(e){const a=this.providersStore.getProviders;let m=[];for(let[x,i]of a.entries())Object.hasOwn(i,"liablePersonIndex")&&i.liablePersonIndex==e&&m.push([x,i]);return m},linkBusinesses:function(){if(this.formStateStore.getLiableQueue.length<=0){this.showLinkError=!0;return}let e=this.formStateStore.getLiableQueue.length==1?"LiablePersonSelect":"SmartSameProvider";this.formStateStore.setFormStartComponent(e),this.$router.push({name:"vlRegistration"})}},created(){this.liablePeople=structuredClone(oe(this.providersStore.getLiablePersons)),this.liablePeoplePresent=this.liablePeople.length>0},computed:{...w(H,["providers"]),...w(I,["formState"]),liableText(){return this.homeText.liableView}}},je={class:"sr-only"},qe={key:0,class:"gds-sum-card-title"},Fe={key:1,class:"gds-sum-card-title"};function Me(e,a,m,x,i,s){const P=r("wra-header"),g=r("user-to-do"),l=r("wra-validation-tooltip"),h=r("wra-button"),y=r("gds-summary-individual"),v=r("gds-summary-company"),T=r("gds-sum-card");return d(),p(k,null,[t(P,{size:"h2",class:"mb-6"},{default:o(()=>[n(u(s.liableText.title),1)]),_:1}),t(g,{"todo-text":m.homeText.todoList},null,8,["todo-text"]),t(j,{name:"translate",mod:"out-in"},{default:o(()=>[i.showLinkError?(d(),p("div",{class:"my-4",key:s.liableText.noLiableLink},[t(l,{type:"wra-error",role:"alert"},{default:o(()=>[c("span",je,u(m.homeText.error),1),n(" "+u(s.liableText.noLiableLink),1)]),_:1})])):L("",!0)]),_:1}),t(h,{variant:"flat",color:"#019e1e",ripple:!0,class:"mb-4",lang:"en","prepend-icon":"mdi-home-plus",onClick:a[0]||(a[0]=_=>s.newLiable())},{default:o(()=>[n(u(s.liableText.addLiable),1)]),_:1}),t(h,{variant:"flat",color:"#019e1e",ripple:!0,class:"mb-4 ml-4",lang:"en","prepend-icon":"mdi-link-plus",onClick:a[1]||(a[1]=_=>s.linkBusinesses())},{default:o(()=>[n(u(s.liableText.linkLiable),1)]),_:1}),i.liablePeoplePresent?(d(!0),p(k,{key:0},R(i.liablePeople,(_,b)=>(d(),S(T,null,{title:o(()=>{var f,C;return["individual"in _?(d(),p("div",qe,[t(E,{class:"mr-4 pb-1"},{default:o(()=>[n("mdi-account")]),_:1}),c("h3",null,u(`Individual: ${(f=_.individual)==null?void 0:f.name}`??`Individual ${b+1}`),1)])):(d(),p("div",Fe,[t(E,{class:"mr-4 pb-1"},{default:o(()=>[n("mdi-domain")]),_:1}),c("h3",null,u(`Company: ${(C=_.company)==null?void 0:C.companyName}`??`Company / charity ${b+1}`),1)]))]}),default:o(()=>["individual"in _?(d(),S(y,{key:0,"individual-store":_,onEditPressed:f=>s.editLiable(b,!1)},null,8,["individual-store","onEditPressed"])):(d(),S(v,{key:1,"company-store":_,onEditPressed:f=>s.editLiable(b,!1)},null,8,["company-store","onEditPressed"]))]),_:2},1024))),256)):L("",!0)],64)}const Je=V(He,[["render",Me],["__scopeId","data-v-9b233159"]]);const Ye={name:"gds-list",props:{bullet:{type:Boolean,required:!1},numbered:{type:Boolean,required:!1},spaced:{tye:Boolean,required:!1}}};function ze(e,a,m,x,i,s){return d(),p("ul",{class:pe(["govuk-list",{"govuk-list--bullet":m.bullet&&!m.numbered,"govuk-list--number":m.numbered&&!m.bullet,"govuk-list--spaced":m.spaced}])},[ae(e.$slots,"default")],2)}const Qe=V(Ye,[["render",ze]]);const Ue={name:"gds-phase"},Ke={class:"govuk-phase-banner"};function Xe(e,a,m,x,i,s){return d(),p("div",Ke,[ae(e.$slots,"default",{},void 0,!0)])}const Ze=V(Ue,[["render",Xe],["__scopeId","data-v-73736c37"]]);const et={name:"service-home",props:{lang:{type:String,required:!0},drawer:{type:Boolean,required:!0}},emits:["drawer-switch"],components:{WraServiceLogo:N,WraViewTitle:G,WraHeader:A,HomeView:Te,AccommodationView:Ee,AccountView:We,LiableView:Je,GdsList:Qe,GdsPhase:Ze},data(){return{currentView:"HomeView",homeText:{navDrawer:{},todoList:{},homeView:{},accommodationView:{},liableView:{},settings:{}},accommodationNumber:{}}},methods:{changePage:function(e){this.currentView=e,this.$vuetify.display.mobile&&this.drawer==!0&&this.$emit("drawer-switch")},getText:function(){fe.get(`./text/${this.lang}/home.json?v=2`).then(e=>{this.homeText=JSON.parse(JSON.stringify(e.data))})}},watch:{lang:{handler(){this.getText()}}},computed:{...w(I,["formState"]),...w(W,["account"]),isDrawer(){return this.drawer},getUsername(){return this.accountStore.getAccountDetails.fullName}},created(){this.getText(),this.formStateStore.getOriginComponent&&(this.currentView=this.formStateStore.getOriginComponent,this.formStateStore.resetOriginComponent())}},tt=e=>(ee("data-v-132e2920"),e=e(),te(),e),ot={class:"px-4 pt-2"},at={class:"d-flex justify-space-between phase-text"},nt=tt(()=>c("div",null,[c("strong",null,"Nadiya Kanaa"),n(", Bluebird Holidays Limited")],-1)),st={class:"d-flex flex-wrap flex-md-nowrap py-8"},rt={class:"px-4"};function it(e,a,m,x,i,s){const P=r("gds-phase"),g=r("gds-list");return d(),p(k,null,[c("header",ot,[t(P,null,{default:o(()=>[c("div",at,[nt,c("div",null,[c("a",{href:"#",onClick:a[0]||(a[0]=l=>e.$router.push({name:"login"}))},"Sign out")])])]),_:1})]),c("div",st,[c("nav",rt,[t(j,{name:"translate",mode:"out-in"},{default:o(()=>[c("div",null,[t(g,null,{default:o(()=>[c("li",null,[c("button",{class:"button-anchor",onClick:a[1]||(a[1]=l=>s.changePage("HomeView"))},u(i.homeText.navDrawer.home),1)]),c("li",null,[c("button",{class:"button-anchor",onClick:a[2]||(a[2]=l=>s.changePage("AccommodationView"))},u(i.homeText.navDrawer.accommodation),1)]),c("li",null,[c("button",{class:"button-anchor",onClick:a[3]||(a[3]=l=>s.changePage("LiableView"))},u(i.homeText.navDrawer.businesses),1)]),c("li",null,[c("button",{class:"button-anchor",onClick:a[4]||(a[4]=l=>s.changePage("AccountView"))},u(i.homeText.navDrawer.settings),1)])]),_:1})])]),_:1})]),t(he,{class:"pb-12 pt-0 px-4"},{default:o(()=>[c("section",null,[(d(),S(be(i.currentView),{homeText:i.homeText,key:i.currentView,onChangePage:s.changePage},null,40,["homeText","onChangePage"]))])]),_:1})])],64)}const dt=V(et,[["render",it],["__scopeId","data-v-132e2920"]]);export{dt as default};

import{c as v,a0 as H,a1 as I,a2 as C,d as k,a3 as M,B as N,a4 as S,a5 as B,m as V,u as D,l as y,r as n,o as c,x as i,w as t,q as o,t as l,v as d,y as W,T as u,J as G,K as F,p as f,a6 as $,a7 as j,A as O,Y as E,n as L,Z as U,$ as z}from"./index-9b25823a.js";import{G as J,a as K,b as R,c as Y,d as Z}from"./GdsNotifyTitle-d0cf29fe.js";const Q={name:"add-account-details",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:H,WraCardText:I,WraCardTitle:C,WraCardHeader:k,WraTextInput:M,WraValidationTooltip:N,ButtonGroup:S},data(){return{showValidation:!1,userInputs:{email:{input:"",required:!0}}}},methods:{validateAnswers:function(){if(!B(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{email:this.userInputs.email.input}),this.$emit("nextPressed","AddAccountPermissions")},loadHistory:function(){let e=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.email.input=(e==null?void 0:e.email)??""}},computed:{...V(D,["account"])},created(){this.loadHistory()}},q=e=>(G("data-v-f89f4a2e"),e=e(),F(),e),X=q(()=>f("span",{class:"sr-only"},"Error:",-1)),tt=q(()=>f("p",{class:"mb-2"}," The email will only be used to send the member a receipt ",-1));function et(e,s,a,P,r,m){const _=n("wra-validation-tooltip"),p=n("wra-card-text"),h=n("wra-card-header"),w=n("wra-card-title"),g=n("wra-text-input"),A=n("wra-card-actions"),T=n("button-group"),b=n("wra-card");return c(),i(b,{class:"pa-8"},{default:t(()=>[o(u,{name:"translate",mod:"out-in"},{default:t(()=>[r.showValidation?(c(),i(p,{class:"pb-6",key:a.addAccountText.accountDetails.title},{default:t(()=>[o(_,{type:"wra-error",role:"alert"},{default:t(()=>[X,l(" "+d(a.addAccountText.accountDetails.validation),1)]),_:1})]),_:1})):W("",!0)]),_:1}),o(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(w,{class:"pt-0 px-0 pb-4",key:a.addAccountText.accountDetails.title},{default:t(()=>[o(h,{size:"h2"},{default:t(()=>[l(d(a.addAccountText.accountDetails.title),1)]),_:1})]),_:1}))]),_:1}),tt,o(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(A,{class:"pt-2 pb-6 text-input",key:a.addAccountText.accountDetails.emailLabel},{default:t(()=>[o(g,{modelValue:r.userInputs.email.input,"onUpdate:modelValue":s[0]||(s[0]=x=>r.userInputs.email.input=x),inputmode:"email",id:"email",label:a.addAccountText.accountDetails.emailLabel},null,8,["modelValue","label"])]),_:1}))]),_:1}),o(T,{regText:a.addAccountText,onBackPressed:s[1]||(s[1]=x=>e.$emit("backPressed")),onNextPressed:s[2]||(s[2]=x=>m.validateAnswers())},null,8,["regText"])]),_:1})}const nt=y(Q,[["render",et],["__scopeId","data-v-f89f4a2e"]]),ot={name:"add-account-permissions",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:H,WraCardText:I,WraCardTitle:C,WraCardHeader:k,WraRadioGroup:$,WraValidationTooltip:N,ButtonGroup:S},data(){return{showValidation:!1,userInputs:{permissions:{input:null,required:!0}}}},methods:{validateAnswers:function(){if(!B(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{permission:this.userInputs.permissions.input}),this.$emit("nextPressed","AddAccountConfirmation")},loadHistory:function(){let e=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.permissions.input=(e==null?void 0:e.permission)??null}},computed:{...V(D,["account"])},created(){this.loadHistory()}},at=f("span",{class:"sr-only"},"Error:",-1),st={class:"mb-2"};function rt(e,s,a,P,r,m){const _=n("wra-validation-tooltip"),p=n("wra-card-text"),h=n("wra-card-header"),w=n("wra-card-title"),g=n("wra-radio-group"),A=n("wra-card-actions"),T=n("button-group"),b=n("wra-card");return c(),i(b,{class:"pa-8"},{default:t(()=>[o(u,{name:"translate",mod:"out-in"},{default:t(()=>[r.showValidation?(c(),i(p,{class:"pb-6",key:a.addAccountText.accountPermissions.title},{default:t(()=>[o(_,{type:"wra-error",role:"alert"},{default:t(()=>[at,l(" "+d(a.addAccountText.accountPermissions.validation),1)]),_:1})]),_:1})):W("",!0)]),_:1}),o(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(w,{class:"pt-0 px-0 pb-4",key:a.addAccountText.accountPermissions.title},{default:t(()=>[o(h,{size:"h2"},{default:t(()=>[l(d(a.addAccountText.accountPermissions.title),1)]),_:1})]),_:1}))]),_:1}),f("p",st,d(a.addAccountText.accountPermissions.permissionDesc),1),o(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(A,{class:"pt-2 pb-6",key:a.addAccountText.accountPermissions.desc},{default:t(()=>[o(g,{modelValue:r.userInputs.permissions.input,"onUpdate:modelValue":s[0]||(s[0]=x=>r.userInputs.permissions.input=x),"group-name":"account-permission",options:a.addAccountText.accountPermissions.permissionPref.answers,hint:"account-permssion-hint"},null,8,["modelValue","options"])]),_:1}))]),_:1}),o(T,{regText:a.addAccountText,onBackPressed:s[1]||(s[1]=x=>e.$emit("backPressed")),onNextPressed:m.validateAnswers},null,8,["regText","onNextPressed"])]),_:1})}const ct=y(ot,[["render",rt]]),it={name:"add-account-confirmation",props:{addAccountText:{type:Object,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardText:I,WraCardTitle:C,WraCardHeader:k,GdsNotify:J,GdsNotifyContent:K,GdsNotifyHeader:R,GdsNotifyHeading:Y,GdsNotifyTitle:Z,ButtonGroup:S},data(){return{memberData:{email:null,permission:null}}},methods:{endFlow:function(){this.accountStore.memberIncrement(),this.$router.push({name:"vlHome"})}},computed:{...V(D,["account"])},created(){Object.assign(this.memberData,this.accountStore.getMembers[this.accountStore.getMemberIndex])}};function dt(e,s,a,P,r,m){const _=n("gds-notify-title"),p=n("gds-notify-header"),h=n("gds-notify-heading"),w=n("gds-notify-content"),g=n("gds-notify"),A=n("button-group"),T=n("wra-card");return c(),i(T,{class:"pa-8"},{default:t(()=>[o(u,null,{default:t(()=>[f("div",null,[o(g,{success:!0},{default:t(()=>[o(p,null,{default:t(()=>[o(_,null,{default:t(()=>[l(d(a.addAccountText.accountConfirmation.notifyTitle),1)]),_:1})]),_:1}),o(w,null,{default:t(()=>[o(h,null,{default:t(()=>[l(d(`${r.memberData.email} ${a.addAccountText.accountConfirmation.notifyHeading} ${a.addAccountText.accountConfirmation.permissionLevels[this.memberData.permission]}`),1)]),_:1}),f("p",null,d(`${a.addAccountText.accountConfirmation.notifyText} ${r.memberData.email}`),1)]),_:1})]),_:1})])]),_:1}),o(A,{regText:a.addAccountText,onBackPressed:s[0]||(s[0]=b=>e.$emit("backPressed")),onNextPressed:s[1]||(s[1]=b=>e.$router.push({name:"vlHome"}))},null,8,["regText"])]),_:1})}const ut=y(it,[["render",dt]]),lt={name:"add-account",props:{lang:{type:String}},components:{WraTitle:j,WraViewTitle:O,AddAccountDetails:nt,AddAccountPermissions:ct,AddAccountConfirmation:ut},data(){return{currentComponent:"AddAccountDetails",addAccountText:{accountDetails:{}},componentStack:[],componentHistory:new Set}},methods:{getText:function(){E.get(`./text/${this.lang}/addAccount.json?v=2`).then(e=>{this.addAccountText=e.data})},nextPage:function(e){this.componentStack.push(this.currentComponent),this.componentHistory.add(this.currentComponent),this.currentComponent=e},previousPage:function(){this.currentComponent=this.componentStack.pop(),this.currentComponent===void 0&&this.$router.push({name:"vlHome"})}},created(){this.getText()},watch:{lang:{handler(){this.getText()}}}},mt={class:"px-4 px-sm-6 mb-16"};function _t(e,s,a,P,r,m){const _=n("wra-title"),p=n("wra-view-title");return c(),L("div",mt,[o(_,{class:"mt-6",lang:a.lang},null,8,["lang"]),o(U,{class:"pa-0"},{default:t(()=>[o(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(p,{key:r.addAccountText.subtitle},{"sub-header":t(()=>[l(d(r.addAccountText.subtitle),1)]),"main-header":t(()=>[l(d(r.addAccountText.title),1)]),_:1}))]),_:1}),f("section",null,[o(u,{name:"translate",mode:"out-in"},{default:t(()=>[(c(),i(z(r.currentComponent),{key:r.currentComponent,onNextPressed:m.nextPage,onBackPressed:m.previousPage,"add-account-text":r.addAccountText,"edit-mode":e.False},null,40,["onNextPressed","onBackPressed","add-account-text","edit-mode"]))]),_:1})])]),_:1})])}const xt=y(lt,[["render",_t]]);export{xt as default};

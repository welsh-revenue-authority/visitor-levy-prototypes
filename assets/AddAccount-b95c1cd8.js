import{W as k,a as T,b as v,c as D,F as y,v as w,m as b,u as g,_ as f,r as a,o as u,d as l,w as o,e as i,T as x,p as V,f as N,g as A,h as q,t as _,G as M,i as B,j as $,k as F,l as H,n as P,q as G,s as j,x as W}from"./index-3a3882dc.js";const L={name:"add-account-details",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:k,WraCardActions:T,WraCardText:v,WraTextInput:D,FormBody:y},data(){return{showValidation:!1,userInputs:{email:{input:"",required:!0}}}},methods:{validateAnswers:function(){if(!w(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{email:this.userInputs.email.input}),this.$emit("nextPressed","AddAccountPermissions")},loadHistory:function(){let t=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.email.input=(t==null?void 0:t.email)??""}},computed:{...b(g,["account"])},created(){this.loadHistory()}},O=t=>(V("data-v-21c3f379"),t=t(),N(),t),U=O(()=>A("p",{class:"mb-2"}," The email will only be used to send the member a receipt ",-1));function R(t,n,e,h,s,c){const r=a("wra-text-input"),m=a("wra-card-actions"),p=a("form-body");return u(),l(p,{"button-text":e.addAccountText,title:e.addAccountText.accountDetails.title,"show-validation":s.showValidation,"validation-text":e.addAccountText.accountDetails.validation,onBackPressed:n[1]||(n[1]=d=>t.$emit("backPressed")),onNextPressed:n[2]||(n[2]=d=>c.validateAnswers())},{default:o(()=>[U,i(x,{name:"translate",mode:"out-in"},{default:o(()=>[(u(),l(m,{class:"pt-2 pb-6 text-input",key:e.addAccountText.accountDetails.emailLabel},{default:o(()=>[i(r,{modelValue:s.userInputs.email.input,"onUpdate:modelValue":n[0]||(n[0]=d=>s.userInputs.email.input=d),inputmode:"email",id:"email",label:e.addAccountText.accountDetails.emailLabel},null,8,["modelValue","label"])]),_:1}))]),_:1})]),_:1},8,["button-text","title","show-validation","validation-text"])}const z=f(L,[["render",R],["__scopeId","data-v-21c3f379"]]),E={name:"add-account-permissions",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCardActions:T,WraCardText:v,WraRadioGroup:q,FormBody:y},data(){return{showValidation:!1,userInputs:{permissions:{input:null,required:!0}}}},methods:{validateAnswers:function(){if(!w(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{permission:this.userInputs.permissions.input}),this.$emit("nextPressed","AddAccountConfirmation")},loadHistory:function(){let t=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.permissions.input=(t==null?void 0:t.permission)??null}},computed:{...b(g,["account"])},created(){this.loadHistory()}},J={class:"mb-2"};function K(t,n,e,h,s,c){const r=a("wra-radio-group"),m=a("wra-card-actions"),p=a("form-body");return u(),l(p,{"button-text":e.addAccountText,title:e.addAccountText.accountPermissions.title,"show-validation":s.showValidation,"validation-text":e.addAccountText.accountPermissions.validation,onBackPressed:n[1]||(n[1]=d=>t.$emit("backPressed")),onNextPressed:c.validateAnswers},{default:o(()=>[A("p",J,_(e.addAccountText.accountPermissions.permissionDesc),1),i(x,{name:"translate",mode:"out-in"},{default:o(()=>[(u(),l(m,{class:"pt-2 pb-6",key:e.addAccountText.accountPermissions.desc},{default:o(()=>[i(r,{modelValue:s.userInputs.permissions.input,"onUpdate:modelValue":n[0]||(n[0]=d=>s.userInputs.permissions.input=d),"group-name":"account-permission",options:e.addAccountText.accountPermissions.permissionPref.answers,hint:"account-permssion-hint"},null,8,["modelValue","options"])]),_:1}))]),_:1})]),_:1},8,["button-text","title","show-validation","validation-text","onNextPressed"])}const Q=f(E,[["render",K]]),X={name:"add-account-confirmation",props:{addAccountText:{type:Object,required:!0}},emits:["nextPressed","backPressed"],components:{GdsNotify:M,GdsNotifyContent:B,GdsNotifyHeader:$,GdsNotifyHeading:F,GdsNotifyTitle:H,FormBody:y},data(){return{memberData:{email:null,permission:null}}},methods:{endFlow:function(){this.accountStore.memberIncrement(),this.$router.push({name:"home"})}},computed:{...b(g,["account"])},created(){Object.assign(this.memberData,this.accountStore.getMembers[this.accountStore.getMemberIndex])}};function Y(t,n,e,h,s,c){const r=a("gds-notify-title"),m=a("gds-notify-header"),p=a("gds-notify-heading"),d=a("gds-notify-content"),I=a("gds-notify"),S=a("form-body");return u(),l(S,{"button-text":e.addAccountText,onBackPressed:n[0]||(n[0]=C=>t.$emit("backPressed")),onNextPressed:n[1]||(n[1]=C=>t.$router.push({name:"home"}))},{default:o(()=>[i(x,{name:"translate",mode:"out-in"},{default:o(()=>[i(I,{class:"mt-4",success:!0},{default:o(()=>[i(m,null,{default:o(()=>[i(r,null,{default:o(()=>[P(_(e.addAccountText.accountConfirmation.notifyTitle),1)]),_:1})]),_:1}),i(d,null,{default:o(()=>[i(p,null,{default:o(()=>[P(_(`${s.memberData.email} ${e.addAccountText.accountConfirmation.notifyHeading} ${e.addAccountText.accountConfirmation.permissionLevels[this.memberData.permission]}`),1)]),_:1}),A("p",null,_(`${e.addAccountText.accountConfirmation.notifyText} ${s.memberData.email}`),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["button-text"])}const Z=f(X,[["render",Y]]),tt={name:"add-account",props:{lang:{type:String}},components:{FormLayout:G,AddAccountDetails:z,AddAccountPermissions:Q,AddAccountConfirmation:Z},data(){return{currentComponent:"AddAccountDetails",addAccountText:{accountDetails:{}},componentStack:[],componentHistory:new Set}},methods:{getText:function(){j.get(`./text/${this.lang}/addAccount.json?v=2`).then(t=>{this.addAccountText=t.data})},nextPage:function(t){this.componentStack.push(this.currentComponent),this.componentHistory.add(this.currentComponent),this.currentComponent=t},previousPage:function(){this.currentComponent=this.componentStack.pop(),this.currentComponent===void 0&&this.$router.push({name:"home"})}},created(){this.getText()},watch:{lang:{handler(){this.getText()}}}};function et(t,n,e,h,s,c){const r=a("form-layout");return u(),l(r,{lang:e.lang,"wra-logo":!1},{default:o(()=>[i(x,{name:"translate",mode:"out-in"},{default:o(()=>[(u(),l(W(s.currentComponent),{key:s.currentComponent,onNextPressed:c.nextPage,onBackPressed:c.previousPage,"add-account-text":s.addAccountText,"edit-mode":t.False},null,40,["onNextPressed","onBackPressed","add-account-text","edit-mode"]))]),_:1})]),_:1},8,["lang"])}const ot=f(tt,[["render",et]]);export{ot as default};

import{_ as w,$ as x,a0 as j,a1 as O,a2 as A,r as a,o as n,d as o,I as P,K as T,c as G,A as V,L as q,S as R,a3 as B,a4 as K,a5 as N,a6 as W,m as v,u as H,Y,a7 as z,E as b,g as c,e as m,w as i,Z as D,H as S,a8 as U,n as f,t as g,p as Z,f as F}from"./index-44873a19.js";const J={components:{GdsSummaryCompany:x,GdsSummaryIndividual:j,GdsSummaryPartnership:O,GdsSummaryCharity:A},props:{liableEntity:{type:Object,required:!0}}};function M(e,t,s,I,l,r){const h=a("gds-summary-individual"),p=a("gds-summary-company"),_=a("gds-summary-partnership"),y=a("gds-summary-charity");return"individual"in s.liableEntity?(n(),o(h,{key:0,"individual-store":s.liableEntity,onEditPressed:t[0]||(t[0]=d=>e.editLiable(e.index,!1))},null,8,["individual-store"])):"company"in s.liableEntity?(n(),o(p,{key:1,"company-store":s.liableEntity,onEditPressed:t[1]||(t[1]=d=>e.editLiable(e.index,!1))},null,8,["company-store"])):"partnership"in s.liableEntity?(n(),o(_,{key:2,"partnership-store":s.liableEntity,onEditPressed:t[2]||(t[2]=d=>e.editLiable(e.index,!1))},null,8,["partnership-store"])):"charity"in s.liableEntity?(n(),o(y,{key:3,"charity-store":s.liableEntity,onEditPressed:t[3]||(t[3]=d=>e.editLiable(e.index,!1))},null,8,["charity-store"])):P("",!0)}const Q=w(J,[["render",M]]);const X={name:"internal-search",props:{internalText:{type:Object,required:!0},query:{type:String}},emits:["changePage"],components:{WraButton:T,WraTextInput:G,WraHeader:V,WraSubheader:q,GdsTag:R,GdsSumCard:B,GdsSumCardActions:K,GdsLiablePerson:Q,GdsSummaryAccom:N},data(){return{searchInput:"",searchResult:null}},methods:{isAccomComplete(e){return W(e)},onSearch(){console.log("run"),this.$router.push({name:"internalSearch",query:{q:this.searchInput},replace:!0}),this.filterObjects()},filterObjects(){this.searchResult=this.getLiable.concat(this.getAccoms),console.log(this.searchResult),this.searchInput!==""&&(this.searchResult=this.searchResult.filter(e=>this.searchObjects(e,this.searchInput)))},searchObjects(e,t){for(let s of Object.values(e))if(typeof s=="string"&&s.toLowerCase().includes(t.toLowerCase())||typeof s=="object"&&this.searchObjects(s,t))return!0;return!1},watch:{query(){this.searchInput=this.query}}},computed:{...v(H,["account"]),...v(Y,["providers"]),accomText(){return this.internalText.accomView},getAccoms(){return this.providersStore.getAccoms},getLiable(){return this.providersStore.getLiablePersons}},created(){z(),this.searchInput=this.query,this.filterObjects()}},$=e=>(Z("data-v-65b6871f"),e=e(),F(),e),ee={class:"internal-title-layout mb-6"},te={class:"internal-accom-search mb-10"},se={key:0},ae=$(()=>c("li",null,[c("button",{class:"button-anchor",id:"viewAccommodationLog"}," View log ")],-1)),ne=["onClick"];function re(e,t,s,I,l,r){const h=a("wra-header"),p=a("wra-subheader"),_=a("wra-text-input"),y=a("wra-button"),d=a("gds-sum-card-actions"),C=a("gds-summary-accom"),k=a("gds-liable-person"),E=a("gds-sum-card");return n(),b(S,null,[c("div",ee,[m(h,{size:"h2"},{default:i(()=>[f(g(r.accomText.title),1)]),_:1}),m(p,null,{default:i(()=>[f(g(r.accomText.subtitle),1)]),_:1})]),c("div",te,[m(_,{modelValue:l.searchInput,"onUpdate:modelValue":t[0]||(t[0]=u=>l.searchInput=u),placeholder:r.accomText.search.placeholder,onKeypress:D(r.onSearch,["enter"])},null,8,["modelValue","placeholder","onKeypress"]),m(y,{color:"obsidian",variant:"flat",ripple:!1,id:"searchButton","prepend-icon":"mdi-magnify",onClick:r.onSearch},{default:i(()=>[f(g(r.accomText.search.button),1)]),_:1},8,["onClick"])]),l.searchResult.length===0?(n(),b("div",se," Your search did not match any results ")):(n(!0),b(S,{key:1},U(l.searchResult,(u,L)=>(n(),o(E,null,{title:i(()=>[m(d,null,{default:i(()=>[ae,c("li",null,[c("button",{class:"button-anchor",id:"changeAccommodation",onClick:oe=>e.editProvider(L)}," Change ",8,ne)])]),_:2},1024)]),default:i(()=>[Object.hasOwn(u,"accommodation")?(n(),o(C,{key:0,"accommodation-details":u.accommodation,"show-edit-buttons":!1},null,8,["accommodation-details"])):(n(),o(k,{key:1,"liable-entity":u},null,8,["liable-entity"]))]),_:2},1024))),256))],64)}const ce=w(X,[["render",re],["__scopeId","data-v-65b6871f"]]);export{ce as default};

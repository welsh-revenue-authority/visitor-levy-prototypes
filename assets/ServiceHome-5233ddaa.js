import{W as E,a as O,b as re,_ as q,c as ie,d as I,U as ce,G as z,e as M,f as J,g as U,h as Y,i as Q,j as W,s as K,m as b,u as A,k as N,l as k,r,o as d,n as f,p as s,q as o,w as t,t as i,v as l,x as g,y as T,F as L,z as B,A as R,B as j,C as le,D as X,E as Z,H as de,I as D,T as $,V as G,J as ue,K as me,L as _e,M as ee,N as pe,O as fe,P as he,Q as ge,R as be,S as te,X as ve,Y as oe,Z as F,$ as we,a0 as H,a1 as ne,a2 as Pe,a3 as ae,a4 as ye,a5 as xe,a6 as Se}from"./index-4ab93ca6.js";import{G as Ce,a as ke,b as Te,c as Le,d as Ve}from"./GdsNotifyTitle-5245c26e.js";const $e={name:"home-view",props:{homeText:{type:Object,required:!0}},emits:["changePage"],components:{WraButton:E,WraServiceLogo:O,WraSubheader:re,WraDivider:q,WraCard:ie,WraHeader:I,UserToDo:ce,GdsTable:z,GdsTableBody:M,GdsTableData:J,GdsTableHead:U,GdsTableHeader:Y,GdsTableRow:Q,GdsTag:W,GdsNotify:Ce,GdsNotifyContent:ke,GdsNotifyHeader:Te,GdsNotifyHeading:Le,GdsNotifyTitle:Ve},data(){return{accomProviderList:{}}},methods:{convertReadable:function(e){return e?e="Yes":e="No",e}},created(){if(this.accomProviderList=JSON.parse(JSON.stringify(this.providersStore.getProviders)),this.accomPresent=this.accomProviderList.length>0,!!this.accomPresent)for(const e of this.accomProviderList)Object.keys(e).length<=0||"accomodation"in e&&(e.accommodation.accomType=K(e.accommodation.accomType)??"",e.accommodation.accomMainRes=this.convertReadable(e.accommodation.accomMainRes)??"",e.accommodation.responsibleCurrentYear=this.convertReadable(e.accommodation.responsibleCurrentYear)??"")},computed:{...b(A,["account"]),...b(N,["providers"])}},Ae=s("button",{class:"button-anchor"}," View ",-1),De={key:1};function Ie(e,a,u,S,c,n){const v=r("wra-header"),m=r("gds-table-header"),_=r("gds-table-row"),w=r("gds-table-head"),p=r("gds-table-data"),V=r("gds-tag"),y=r("gds-table-body"),P=r("gds-table");return d(),f(L,null,[s("header",null,[o(v,{size:"h2",class:"pb-6"},{default:t(()=>[i(l(u.homeText.homeView.title),1)]),_:1})]),c.accomProviderList.length>0?(d(),g(P,{key:0,class:"my-8",caption:"Levy payments"},{default:t(()=>[o(w,null,{default:t(()=>[o(_,null,{default:t(()=>[o(m,{scope:"col"},{default:t(()=>[i(" Period ")]),_:1}),o(m,{scope:"col",numeric:!0},{default:t(()=>[i(" Amount ")]),_:1}),o(m,{scope:"col",numeric:!0},{default:t(()=>[i(" Properties ")]),_:1}),o(m,{scope:"col",numeric:!0},{default:t(()=>[i(" Status ")]),_:1}),o(m,{scope:"col",numeric:!0})]),_:1})]),_:1}),o(y,null,{default:t(()=>[o(_,null,{default:t(()=>[o(m,{scope:"row"},{default:t(()=>[i(" Apr - Jun 2026 ")]),_:1}),o(p,{numeric:!0},{default:t(()=>[i(" Â£0 ")]),_:1}),o(p,{numeric:!0},{default:t(()=>[i(" 2 ")]),_:1}),o(p,{numeric:!0},{default:t(()=>[o(V,null,{default:t(()=>[i(" Starts soon ")]),_:1})]),_:1}),o(p,{nuermic:!0},{default:t(()=>[Ae]),_:1})]),_:1})]),_:1})]),_:1})):T("",!0),c.accomProviderList.length>0?(d(),f("div",De,[o(P,{caption:"Visitor accommodations registered"},{default:t(()=>[o(w,null,{default:t(()=>[o(m,{scope:"col"},{default:t(()=>[i(" Name ")]),_:1}),o(m,{scope:"col"},{default:t(()=>[i(" Address ")]),_:1}),o(m,{numeric:!0,scope:"col"},{default:t(()=>[i(" Council ")]),_:1}),o(m,{numeric:!0,scope:"col"})]),_:1}),o(y,null,{default:t(()=>[(d(!0),f(L,null,B(c.accomProviderList,(h,x)=>(d(),g(_,null,{default:t(()=>[o(m,null,{default:t(()=>{var C;return[i(l(((C=h.accommodation)==null?void 0:C.accomName)??`${u.homeText.accommodationView.noNamePlaceholder} ${x+1}`),1)]}),_:2},1024),o(p,{scope:"row"},{default:t(()=>[i(l(h.accommodation.address.postcode),1)]),_:2},1024),o(p,{numeric:!0},{default:t(()=>[i(" Cardiff ")]),_:1}),o(p,{numeric:!0},{default:t(()=>[s("button",{class:"button-anchor",onClick:a[0]||(a[0]=C=>e.$emit("changePage","AccommodationView"))}," View ")]),_:1})]),_:2},1024))),256))]),_:1})]),_:1}),s("button",{class:"mb-8 button-anchor standalone-anchor",onClick:a[1]||(a[1]=h=>e.$emit("changePage","AccommodationView"))}," View properties ")])):T("",!0)],64)}const Ne=k($e,[["render",Ie]]);const Ee={name:"accommodation-view",props:{homeText:{type:Object,required:!0}},emits:["changePage"],components:{WraButton:E,WraServiceLogo:O,WraViewTitle:R,WraHeader:I,WraDivider:q,WraValidationTooltip:j,GdsSummaryAccom:le,GdsSumCard:X,GdsSumCardActions:Z,GdsTag:W},data(){return{accomProviderList:[],accomPresent:!1,panels:[],tab:[],showLinkError:!1}},methods:{convertReadable:function(e){return e?e="Yes":e="No",e},editField:function(e,a){this.formStateStore.startEdit(a,[a],"AccommodationView"),this.formStateStore.setQueues([e]),this.$router.push({name:"vlRegistration"})},startProvider:function(){this.$router.push({name:"vlRegistration"})},editProvider:function(e){this.providersStore.setProviderIndex(e),this.$emit("changePage","EditProperty")},changePage:function(e){currentView=e},accomCompleteWrapper:function(e){return de(e)},linkBusinesses:function(){if(this.formStateStore.getLiableQueue.length<=0){this.showLinkError=!0;return}let e=this.formStateStore.getLiableQueue.length==1?"LiablePersonSelect":"SmartSameProvider";this.formStateStore.setFormStartComponent(e),this.$router.push({name:"vlRegistration"})}},created(){this.accomProviderList=JSON.parse(JSON.stringify(this.providersStore.getProviders));for(const e of this.accomProviderList)if(!(Object.keys(e).length<=0)){if("accomodation"in e&&(e.accommodation.accomType=K(e.accommodation.accomType)??"",e.accommodation.accomMainRes=this.convertReadable(e.accommodation.accomMainRes)??"",e.accommodation.responsibleCurrentYear=this.convertReadable(e.accommodation.responsibleCurrentYear)??""),"contactPerson"in e){if("langPref"in e.contactPerson)try{e.contactPerson.langPref=e.contactPerson.langPref.charAt(0).toUpperCase()+e.contactPerson.langPref.slice(1)}catch{e.contactPerson.langPref=""}"contactPref"in e.contactPerson&&(e.contactPerson.contactPref.forEach((a,u)=>{u<=0&&(e.contactPerson.contactPref[u]=a.charAt(0).toUpperCase()+a.slice(1))}),e.contactPerson.contactPref=e.contactPerson.contactPref.join(", "))}"levy"in e&&(e.levy.annualReturn=this.convertReadable(e.levy.annualReturn)??"")}this.accomPresent=this.accomProviderList.length>0},computed:{...b(N,["providers"]),...b(D,["formState"]),accomText(){return this.homeText.accommodationView}}},Oe=e=>(ue("data-v-33f74163"),e=e(),me(),e),Be=Oe(()=>s("span",{class:"sr-only"},"Error:",-1)),Re={class:"ml-n4 mb-4"},Ge={class:"mb-4"},qe={class:"gds-sum-card-title"},We={key:0},je=["onClick"],Fe=["onClick"],He={key:1,class:"no-provider pa-4"};function ze(e,a,u,S,c,n){const v=r("wra-header"),m=r("wra-validation-tooltip"),_=r("wra-button"),w=r("gds-tag"),p=r("gds-sum-card-actions"),V=r("gds-summary-accom"),y=r("gds-sum-card");return d(),f(L,null,[o(v,{size:"h2",class:"mb-6"},{default:t(()=>[i(l(n.accomText.title),1)]),_:1}),o($,{name:"translate",mod:"out-in"},{default:t(()=>[c.showLinkError?(d(),f("div",{class:"my-4",key:n.accomText.noLiableLink},[o(m,{type:"wra-error",role:"alert"},{default:t(()=>[Be,i(" "+l(n.accomText.noLiableLink),1)]),_:1})])):T("",!0)]),_:1}),s("div",Re,[o(_,{variant:"flat",color:"#019e1e",ripple:!0,class:"ml-4 mb-2",lang:"en","prepend-icon":"mdi-home-plus",onClick:a[0]||(a[0]=P=>e.$router.push({name:"vlRegistration"}))},{default:t(()=>[i(l(n.accomText.addAccommodation),1)]),_:1}),o(_,{variant:"flat",color:"#019e1e",ripple:!0,class:"ml-4 mb-2",lang:"en","prepend-icon":"mdi-link-plus",onClick:a[1]||(a[1]=P=>n.linkBusinesses())},{default:t(()=>[i(l(n.accomText.linkLiable),1)]),_:1})]),c.accomPresent?(d(!0),f(L,{key:0},B(c.accomProviderList,(P,h)=>(d(),f("div",Ge,["accommodation"in P?(d(),g(y,{key:0},{title:t(()=>{var x;return[s("div",qe,[o(G,{class:"mr-4 pb-1"},{default:t(()=>[i("mdi-home")]),_:1}),s("h3",null,[Object.hasOwn(P,"deregister")?(d(),g(w,{key:0,class:"deregistered-tag",color:"red"},{default:t(()=>[i(l("Deregistered"))]),_:1})):T("",!0),i(" "+l(((x=P.accommodation)==null?void 0:x.accomName)??`${n.accomText.noNamePlaceholder} ${h+1}`),1)])]),o(p,null,{default:t(()=>[n.accomCompleteWrapper(c.accomProviderList[h])?T("",!0):(d(),f("li",We,[s("button",{class:"button-anchor",id:"fill-levy-button",onClick:C=>n.startProvider(h)},l(n.accomText.incomplete),9,je)])),s("li",null,[s("button",{class:"button-anchor",id:"change-accommodation",onClick:C=>n.editProvider(h)}," Change ",8,Fe)])]),_:2},1024)]}),default:t(()=>[o(V,{"accommodation-details":P.accommodation,onEditPressed:x=>n.editField(h,x)},null,8,["accommodation-details","onEditPressed"])]),_:2},1024)):(d(),f("div",He,[o(_,{color:"#c85442",variant:"flat",ripple:!1,class:"pa-8",id:"nextButton",onClick:x=>n.startProvider(h)},{default:t(()=>[i(l(n.accomText.completeReg),1)]),_:2},1032,["onClick"])]))]))),256)):T("",!0)],64)}const Me=k(Ee,[["render",ze],["__scopeId","data-v-33f74163"]]);const Je={name:"account-view",props:{homeText:{type:Object,requried:!0},accountInfo:{type:Object,required:!0}},emits:["editPressed"],components:{WraSimpleTable:_e,WraHeader:I,WraViewTitle:R,GdsTable:z,GdsTableBody:M,GdsTableData:J,GdsTableHead:U,GdsTableHeader:Y,GdsTableRow:Q,GdsTag:W,WraButton:E},data(){return{accountInfo:{},members:[]}},methods:{convertReadable:function(e){return e?e="Yes":e="No",e},startAddAccount:function(){this.formStateStore.setReturnPage("AccountView")},editMember:function(e){this.accountStore.setMemberIndex(e),this.$router.push({name:"addAccount"})}},computed:{...b(D,["formState"]),...b(A,["account"])},created(){this.accountInfo=structuredClone(ee(this.accountStore.getAccountDetails)),this.members=this.accountStore.getMembers}},Ue=["onClick"],Ye={class:"div-danger-zone mt-6 pa-sm-8 pa-4"},Qe={class:"danger-zone-grid my-4"},Ke=s("p",{class:"danger-zone-text"}," Make another person or organisation liable for all your registered properties, their levies and licences. ",-1),Xe=s("p",{class:"danger-zone-text"}," Deregister all your properties and stop all liabilities including levies and licences. ",-1);function Ze(e,a,u,S,c,n){const v=r("wra-header"),m=r("gds-table-header"),_=r("gds-table-data"),w=r("gds-table-row"),p=r("gds-table-body"),V=r("gds-table"),y=r("gds-table-head"),P=r("gds-tag"),h=r("router-link"),x=r("wra-button");return d(),f(L,null,[o(v,{size:"h2",class:"mb-6"},{default:t(()=>[i(l(u.homeText.settings.title),1)]),_:1}),o(V,{class:"mt-6",caption:"Account information"},{default:t(()=>[o(p,null,{default:t(()=>[o(w,null,{default:t(()=>[o(m,{scope:"row"},{default:t(()=>[i(" Email ")]),_:1}),o(_,{numeric:!0},{default:t(()=>[i(l(c.accountInfo.email??"No email"),1)]),_:1})]),_:1})]),_:1})]),_:1}),o(V,{class:"mt-6",caption:"Account members"},{default:t(()=>[o(y,null,{default:t(()=>[o(w,null,{default:t(()=>[o(m,null,{default:t(()=>[i("Email")]),_:1}),o(m,{scope:"col",numeric:!0},{default:t(()=>[i(" Permission ")]),_:1}),o(m,{scope:"col",numeric:!0},{default:t(()=>[i(" Added ")]),_:1}),o(m,{scope:"col",numeric:!0})]),_:1})]),_:1}),o(p,null,{default:t(()=>[c.members.length==0?(d(),g(w,{key:0},{default:t(()=>[o(_,null,{default:t(()=>[i("No members yet")]),_:1}),o(_),o(_),o(_)]),_:1})):T("",!0),(d(!0),f(L,null,B(c.members,(C,se)=>(d(),g(w,null,{default:t(()=>[o(m,{scope:"row"},{default:t(()=>[i(l(C.email),1)]),_:2},1024),o(_,{numeric:!0},{default:t(()=>[o(P,{color:"yellow"},{default:t(()=>[i(l(C.permission.charAt(0).toUpperCase()+C.permission.slice(1)),1)]),_:2},1024)]),_:2},1024),o(_,{numeric:!0},{default:t(()=>[i(l(new Date().toLocaleDateString()),1)]),_:1}),o(_,{numeric:!0},{default:t(()=>[s("button",{class:"button-anchor",onClick:Bt=>n.editMember(se)}," Change ",8,Ue)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),o(h,{class:"router-link-new-member",to:{name:"addAccount"},onClick:n.startAddAccount},{default:t(()=>[i(" Add new member ")]),_:1},8,["onClick"]),s("div",Ye,[o(v,{class:"div-danger-header",size:"h3"},{default:t(()=>[i(" Danger zone ")]),_:1}),s("div",Qe,[o(x,{color:"ffffff",variant:"flat",ripple:!1,id:"delete-account",onClick:a[0]||(a[0]=C=>e.$emit("changePage"))},{default:t(()=>[i(" Transfer business ")]),_:1}),Ke,o(x,{color:"ffffff",variant:"flat",ripple:!1,id:"delete-account",onClick:a[1]||(a[1]=C=>e.$emit("changePage","CloseBusiness"))},{default:t(()=>[i(" Close business ")]),_:1}),Xe])])],64)}const et=k(Je,[["render",Ze]]);const tt={name:"liable-person-view",props:{homeText:{type:Object,required:!0}},emits:["changePage"],components:{WraButton:E,WraServiceLogo:O,WraViewTitle:R,WraHeader:I,WraDivider:q,WraValidationTooltip:j,CompanyDetailsTable:pe,AccomDetailsTable:fe,IndividualTable:he,GdsSummaryCompany:ge,GdsSummaryIndividual:be,GdsSumCard:X,GdsSumCardActions:Z},data(){return{panels:[],accomPanels:[],tabs:[],liablePeople:[],liablePeoplePresent:!1,showLinkError:!1}},methods:{editLiable:function(e,a){this.providersStore.setLiableIndex(e),a?this.formStateStore.startEdit("LiablePerson",["LiablePerson"],"LiableView"):this.formStateStore.startEdit("FirstLastName",["FirstLastName"],"LiableView"),this.$router.push({name:"vlRegistration"})},newLiable:function(){this.formStateStore.startEdit("LiableRelationship",["LiablePerson","FirstLastName"],"LiableView"),this.$router.push({name:"vlRegistration"})},linkedAccommodations:function(e){const a=this.providersStore.getProviders;let u=[];for(let[S,c]of a.entries())Object.hasOwn(c,"liablePersonIndex")&&c.liablePersonIndex==e&&u.push([S,c]);return u},linkBusinesses:function(){if(this.formStateStore.getLiableQueue.length<=0){this.showLinkError=!0;return}let e=this.formStateStore.getLiableQueue.length==1?"LiablePersonSelect":"SmartSameProvider";this.formStateStore.setFormStartComponent(e),this.$router.push({name:"vlRegistration"})}},created(){this.liablePeople=structuredClone(ee(this.providersStore.getLiablePersons)),this.liablePeoplePresent=this.liablePeople.length>0},computed:{...b(N,["providers"]),...b(D,["formState"]),liableText(){return this.homeText.liableView}}},ot={class:"sr-only"},nt={class:"ml-n4 mb-4"},at={key:0,class:"gds-sum-card-title"},st={key:1,class:"gds-sum-card-title"};function rt(e,a,u,S,c,n){const v=r("wra-header"),m=r("wra-validation-tooltip"),_=r("wra-button"),w=r("gds-summary-individual"),p=r("gds-summary-company"),V=r("gds-sum-card");return d(),f(L,null,[o(v,{size:"h2",class:"mb-6"},{default:t(()=>[i(l(n.liableText.title),1)]),_:1}),o($,{name:"translate",mod:"out-in"},{default:t(()=>[c.showLinkError?(d(),f("div",{class:"my-4",key:n.liableText.noLiableLink},[o(m,{type:"wra-error",role:"alert"},{default:t(()=>[s("span",ot,l(u.homeText.error),1),i(" "+l(n.liableText.noLiableLink),1)]),_:1})])):T("",!0)]),_:1}),s("div",nt,[o(_,{variant:"flat",color:"#019e1e",ripple:!0,class:"ml-4 mb-2",lang:"en","prepend-icon":"mdi-home-plus",onClick:a[0]||(a[0]=y=>n.newLiable())},{default:t(()=>[i(l(n.liableText.addLiable),1)]),_:1}),o(_,{variant:"flat",color:"#019e1e",ripple:!0,class:"ml-4 mb-2",lang:"en","prepend-icon":"mdi-link-plus",onClick:a[1]||(a[1]=y=>n.linkBusinesses())},{default:t(()=>[i(l(n.liableText.linkLiable),1)]),_:1})]),c.liablePeoplePresent?(d(!0),f(L,{key:0},B(c.liablePeople,(y,P)=>(d(),g(V,null,{title:t(()=>{var h,x;return["individual"in y?(d(),f("div",at,[o(G,{class:"mr-4 pb-1"},{default:t(()=>[i("mdi-account")]),_:1}),s("h3",null,l(`Individual: ${(h=y.individual)==null?void 0:h.name}`??`Individual ${P+1}`),1)])):(d(),f("div",st,[o(G,{class:"mr-4 pb-1"},{default:t(()=>[i("mdi-domain")]),_:1}),s("h3",null,l(`Company: ${(x=y.company)==null?void 0:x.companyName}`??`Company / charity ${P+1}`),1)]))]}),default:t(()=>["individual"in y?(d(),g(w,{key:0,"individual-store":y,onEditPressed:h=>n.editLiable(P,!1)},null,8,["individual-store","onEditPressed"])):(d(),g(p,{key:1,"company-store":y,onEditPressed:h=>n.editLiable(P,!1)},null,8,["company-store","onEditPressed"]))]),_:2},1024))),256)):T("",!0)],64)}const it=k(tt,[["render",rt],["__scopeId","data-v-fed43102"]]);const ct={name:"gds-list",props:{bullet:{type:Boolean,required:!1},numbered:{type:Boolean,required:!1},spaced:{tye:Boolean,required:!1}}};function lt(e,a,u,S,c,n){return d(),f("ul",{class:ve(["govuk-list",{"govuk-list--bullet":u.bullet&&!u.numbered,"govuk-list--number":u.numbered&&!u.bullet,"govuk-list--spaced":u.spaced}])},[te(e.$slots,"default")],2)}const dt=k(ct,[["render",lt]]);const ut={name:"gds-phase"},mt={class:"govuk-phase-banner"};function _t(e,a,u,S,c,n){return d(),f("div",mt,[te(e.$slots,"default",{},void 0,!0)])}const pt=k(ut,[["render",_t],["__scopeId","data-v-73736c37"]]);const ft={name:"close-business-date",props:{editText:{type:Object,required:!0}},emits:["nextPressed","backPressed","endEdit"],components:{WraCardActions:oe,WraCardText:F,WraDateInput:we,FormBody:H},data(){return{showValidation:!1,userInputs:{deregDate:{input:"",required:!0}}}},methods:{validateAnswers:function(){if(!ne(this.userInputs)){this.showValidation=!0;return}this.formStateStore.setTempDeregisterDate(this.userInputs.deregDate.input),this.$emit("nextPressed","CloseBusinessConfirm")}},computed:{...b(A,["account"]),...b(D,["formState"]),editOptions(){return this.editText.businessDate},accountInfo(){return this.accountStore.getAccountDetails}}},ht={class:"pa-4 info-box"};function gt(e,a,u,S,c,n){const v=r("wra-card-text"),m=r("wra-date-input"),_=r("wra-card-actions"),w=r("form-body");return d(),g(w,{"button-text":u.editText,title:n.editOptions.title,"show-validation":c.showValidation,"validation-text":n.editOptions.validation,onBackPressed:a[1]||(a[1]=p=>e.$emit("backPressed")),onNextPressed:n.validateAnswers},{default:t(()=>[o($,{name:"translate",mode:"out-in"},{default:t(()=>[o(v,{class:"mb-2"},{default:t(()=>[s("div",ht,[s("p",null,l(n.accountInfo.email??"Account"),1)])]),_:1})]),_:1}),o($,{name:"translate",mode:"out-in"},{default:t(()=>[(d(),g(_,{class:"pt-2 pb-6",key:n.editOptions.title},{default:t(()=>[o(m,{class:"wra-date-label",modelValue:c.userInputs.deregDate.input,"onUpdate:modelValue":a[0]||(a[0]=p=>c.userInputs.deregDate.input=p),required:!0,label:n.editOptions.dateLabel,placeholder:"dd/mm/yyyy"},null,8,["modelValue","label"])]),_:1}))]),_:1})]),_:1},8,["button-text","title","show-validation","validation-text","onNextPressed"])}const bt=k(ft,[["render",gt]]),vt={name:"close-business-confirm",props:{editText:{type:Object,required:!0}},emits:["nextPressed","backPressed"],components:{WraCardActions:oe,WraCardText:F,WraRadioGroup:Pe,FormBody:H},data(){return{showValidation:!1,userInputs:{deregConfirm:{input:null,required:!0}}}},methods:{validateAnswers:function(){if(!ne(this.userInputs)){this.showValidation=!0;return}if(this.userInputs.deregConfirm.input===null){this.showValidation=!0;return}let a=this.formStateStore.popTempDeregisterDate();if(this.userInputs.deregConfirm.input==="keep"){this.$emit("endEdit");return}this.accountStore.addDeregisterDate(a),this.$emit("nextPressed","CloseBusinessSummary")}},computed:{...b(A,["account"]),...b(D,["formState"]),editOptions(){return this.editText.businessConfirm},accountInfo(){return this.accountStore.getAccountDetails}}},wt={class:"pa-4 info-box"},Pt={class:"py-4"};function yt(e,a,u,S,c,n){const v=r("wra-card-text"),m=r("wra-radio-group"),_=r("wra-card-actions"),w=r("form-body");return d(),g(w,{"button-text":u.editText,title:n.editOptions.title,"show-validation":c.showValidation,"validation-text":n.editOptions.validation,onBackPressed:a[1]||(a[1]=p=>e.$emit("backPressed")),onNextPressed:n.validateAnswers},{default:t(()=>[o($,{name:"translate",mode:"out-in"},{default:t(()=>[o(v,{class:"mb-2"},{default:t(()=>[s("div",wt,[s("p",null,l(n.accountInfo.email??"Account"),1)])]),_:1})]),_:1}),o($,{name:"translate",mode:"out-in"},{default:t(()=>[(d(),g(_,{class:"pt-2 pb-6",key:n.editOptions.title},{default:t(()=>[s("p",Pt,l(n.editOptions.confirmDeregister.label),1),o(m,{modelValue:c.userInputs.deregConfirm.input,"onUpdate:modelValue":a[0]||(a[0]=p=>c.userInputs.deregConfirm.input=p),"group-name":"confirm-deregistration",options:n.editOptions.confirmDeregister.answers,hint:"confirm-deregistration"},null,8,["modelValue","options"])]),_:1}))]),_:1})]),_:1},8,["button-text","title","show-validation","validation-text","onNextPressed"])}const xt=k(vt,[["render",yt]]);const St={name:"close-business-summary",props:{editText:{type:Object,required:!0}},emits:["nextPressed","backPressed","endEdit"],components:{WraCardText:F,WraValidationTooltip:j,FormBody:H},computed:{...b(N,["providers"]),...b(A,["account"]),confirmText(){return this.editText.businessSummary},accountInfo(){return this.accountStore.getAccountDetails},deregisterDate(){return this.accountStore.getDeregisterDate.toLocaleDateString()}}},Ct={class:"mb-2"};function kt(e,a,u,S,c,n){const v=r("wra-validation-tooltip"),m=r("wra-card-text"),_=r("form-body");return d(),g(_,{"button-text":u.editText,"next-button":!1,"back-button":!1},{default:t(()=>[o(m,{class:"confirmation-body"},{default:t(()=>[o(v,{class:"wra-success"},{default:t(()=>[s("h2",Ct,l(n.confirmText.successBox.title),1),s("p",null,l(`${n.confirmText.successBox.descriptionPre} ${n.deregisterDate}.`),1)]),_:1}),s("p",null,l(n.confirmText.confirmationEmail),1),s("h2",null,l(n.confirmText.whatNext.title),1),s("p",null,l(`${n.confirmText.whatNext.date}.`),1),s("p",null,l(n.confirmText.whatNext.contact),1),s("p",null,l(n.confirmText.whatNext.records),1),s("p",null,[s("button",{class:"button-anchor",onClick:a[0]||(a[0]=w=>e.$emit("endEdit"))},l(n.confirmText.returnLink),1)])]),_:1})]),_:1},8,["button-text"])}const Tt=k(St,[["render",kt],["__scopeId","data-v-1fbbf4b4"]]);const Lt={name:"closeBusiness",props:{homeText:{type:Object,required:!0}},emits:["changePage"],components:{CloseBusinessDate:bt,CloseBusinessConfirm:xt,CloseBusinessSummary:Tt},data(){return{currentComponent:"CloseBusinessDate",componentStack:[],componentHistory:new Set}},methods:{nextPage:function(e){this.componentStack.push(this.currentComponent),this.componentHistory.add(this.currentComponent),this.currentComponent=e},previousPage:function(){this.currentComponent=this.componentStack.pop(),this.currentComponent===void 0&&this.$emit("changePage","AccommodationView")},endEdit:function(){this.providersStore.setProviderIndex(this.providersStore.getNumProviders-1),this.$emit("changePage","AccountView")}},computed:{...b(N,["providers"])}};function Vt(e,a,u,S,c,n){return d(),g($,{name:"translate",mode:"out-in"},{default:t(()=>[(d(),g(ae(c.currentComponent),{key:c.currentComponent,editText:u.homeText.closeBusiness,onNextPressed:n.nextPage,onBackPressed:n.previousPage,onEndEdit:n.endEdit},null,40,["editText","onNextPressed","onBackPressed","onEndEdit"]))]),_:1})}const $t=k(Lt,[["render",Vt]]);const At={name:"service-home",props:{lang:{type:String,required:!0}},components:{WraServiceLogo:O,WraViewTitle:R,WraHeader:I,HomeView:Ne,AccommodationView:Me,AccountView:et,LiableView:it,GdsList:dt,GdsPhase:pt,EditProperty:ye,CloseBusiness:$t},data(){return{currentView:"HomeView",homeText:{navDrawer:{},todoList:{},homeView:{},accommodationView:{},liableView:{},settings:{}},accommodationNumber:{}}},methods:{changePage:function(e){this.currentView=e,this.$vuetify.display.mobile&&this.drawer==!0&&this.$emit("drawer-switch")},getText:function(){xe.get(`./text/${this.lang}/home.json?v=2`).then(e=>{this.homeText=JSON.parse(JSON.stringify(e.data))})}},watch:{lang:{handler(){this.getText()}}},computed:{...b(D,["formState"]),...b(A,["account"]),getEmail(){return this.accountStore.getAccountDetails.email}},created(){this.getText(),this.formStateStore.getOriginComponent&&(this.currentView=this.formStateStore.getOriginComponent,this.formStateStore.resetOriginComponent())}},Dt={class:"pt-2"},It={class:"d-flex justify-space-between phase-text"},Nt={class:"d-flex flex-wrap flex-md-nowrap py-8"},Et={class:"pr-4"};function Ot(e,a,u,S,c,n){const v=r("gds-phase"),m=r("gds-list");return d(),f(L,null,[s("header",Dt,[o(v,null,{default:t(()=>[s("div",It,[s("p",null,l(n.getEmail??"[email]"),1),s("a",{href:"#",onClick:a[0]||(a[0]=_=>e.$router.push({name:"login"}))},"Sign out")])]),_:1})]),s("div",Nt,[s("nav",Et,[o($,{name:"translate",mode:"out-in"},{default:t(()=>[s("div",null,[o(m,null,{default:t(()=>[s("li",null,[s("button",{class:"button-anchor",onClick:a[1]||(a[1]=_=>n.changePage("HomeView"))},l(c.homeText.navDrawer.home),1)]),s("li",null,[s("button",{class:"button-anchor",onClick:a[2]||(a[2]=_=>n.changePage("AccommodationView"))},l(c.homeText.navDrawer.accommodation),1)]),s("li",null,[s("button",{class:"button-anchor",onClick:a[3]||(a[3]=_=>n.changePage("LiableView"))},l(c.homeText.navDrawer.businesses),1)]),s("li",null,[s("button",{class:"button-anchor",onClick:a[4]||(a[4]=_=>n.changePage("AccountView"))},l(c.homeText.navDrawer.settings),1)])]),_:1})])]),_:1})]),o(Se,{class:"pb-6 pt-0 px-0"},{default:t(()=>[s("section",null,[(d(),g(ae(c.currentView),{lang:u.lang,homeText:c.homeText,key:c.currentView,onChangePage:n.changePage},null,40,["lang","homeText","onChangePage"]))])]),_:1})])],64)}const qt=k(At,[["render",Ot],["__scopeId","data-v-8827b9d7"]]);export{qt as default};

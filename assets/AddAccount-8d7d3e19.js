import{c as v,a1 as N,a2 as I,a3 as C,d as S,a4 as G,B as q,a5 as D,a6 as B,a7 as M,m as V,u as H,l as P,r as n,o as c,x as d,w as o,q as a,t as f,v as u,y as W,T as l,J as $,K as j,p as y,a8 as O,a9 as L,Z as U,a0 as z}from"./index-23e92b0e.js";import{G as E,a as J,b as K,c as R,d as Z}from"./GdsNotifyTitle-52b7c96f.js";const Q={name:"add-account-details",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:N,WraCardText:I,WraCardTitle:C,WraCardHeader:S,WraTextInput:G,WraValidationTooltip:q,FormBack:D,ButtonGroup:B},data(){return{showValidation:!1,userInputs:{email:{input:"",required:!0}}}},methods:{validateAnswers:function(){if(!M(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{email:this.userInputs.email.input}),this.$emit("nextPressed","AddAccountPermissions")},loadHistory:function(){let t=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.email.input=(t==null?void 0:t.email)??""}},computed:{...V(H,["account"])},created(){this.loadHistory()}},F=t=>($("data-v-66b36716"),t=t(),j(),t),X=F(()=>y("span",{class:"sr-only"},"Error:",-1)),Y=F(()=>y("p",{class:"mb-2"}," The email will only be used to send the member a receipt ",-1));function tt(t,s,e,k,r,m){const p=n("wra-validation-tooltip"),x=n("wra-card-text"),b=n("form-back"),h=n("wra-card-header"),g=n("wra-card-title"),A=n("wra-text-input"),w=n("wra-card-actions"),T=n("button-group"),_=n("wra-card");return c(),d(_,{class:"pa-8"},{default:o(()=>[a(l,{name:"translate",mod:"out-in"},{default:o(()=>[r.showValidation?(c(),d(x,{class:"pb-6",key:e.addAccountText.accountDetails.title},{default:o(()=>[a(p,{type:"wra-error",role:"alert"},{default:o(()=>[X,f(" "+u(e.addAccountText.accountDetails.validation),1)]),_:1})]),_:1})):W("",!0)]),_:1}),a(b,{"button-text":e.addAccountText,onBackPressed:s[0]||(s[0]=i=>t.$emit("backPressed"))},null,8,["button-text"]),a(l,{name:"translate",mode:"out-in"},{default:o(()=>[(c(),d(g,{class:"pt-0 px-0 pb-4",key:e.addAccountText.accountDetails.title},{default:o(()=>[a(h,{size:"h2"},{default:o(()=>[f(u(e.addAccountText.accountDetails.title),1)]),_:1})]),_:1}))]),_:1}),Y,a(l,{name:"translate",mode:"out-in"},{default:o(()=>[(c(),d(w,{class:"pt-2 pb-6 text-input",key:e.addAccountText.accountDetails.emailLabel},{default:o(()=>[a(A,{modelValue:r.userInputs.email.input,"onUpdate:modelValue":s[1]||(s[1]=i=>r.userInputs.email.input=i),inputmode:"email",id:"email",label:e.addAccountText.accountDetails.emailLabel},null,8,["modelValue","label"])]),_:1}))]),_:1}),a(T,{regText:e.addAccountText,onBackPressed:s[2]||(s[2]=i=>t.$emit("backPressed")),onNextPressed:s[3]||(s[3]=i=>m.validateAnswers())},null,8,["regText"])]),_:1})}const et=P(Q,[["render",tt],["__scopeId","data-v-66b36716"]]),nt={name:"add-account-permissions",props:{addAccountText:{type:Object,required:!0},editMode:{type:Boolean,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardActions:N,WraCardText:I,WraCardTitle:C,WraCardHeader:S,WraRadioGroup:O,WraValidationTooltip:q,FormBack:D,ButtonGroup:B},data(){return{showValidation:!1,userInputs:{permissions:{input:null,required:!0}}}},methods:{validateAnswers:function(){if(!M(this.userInputs)){this.showValidation=!0;return}this.accountStore.addMemberDetails(this.accountStore.getMemberIndex,{permission:this.userInputs.permissions.input}),this.$emit("nextPressed","AddAccountConfirmation")},loadHistory:function(){let t=this.accountStore.getMembers[this.accountStore.getMemberIndex];this.userInputs.permissions.input=(t==null?void 0:t.permission)??null}},computed:{...V(H,["account"])},created(){this.loadHistory()}},ot=y("span",{class:"sr-only"},"Error:",-1),at={class:"mb-2"};function st(t,s,e,k,r,m){const p=n("wra-validation-tooltip"),x=n("wra-card-text"),b=n("form-back"),h=n("wra-card-header"),g=n("wra-card-title"),A=n("wra-radio-group"),w=n("wra-card-actions"),T=n("button-group"),_=n("wra-card");return c(),d(_,{class:"pa-8"},{default:o(()=>[a(l,{name:"translate",mod:"out-in"},{default:o(()=>[r.showValidation?(c(),d(x,{class:"pb-6",key:e.addAccountText.accountPermissions.title},{default:o(()=>[a(p,{type:"wra-error",role:"alert"},{default:o(()=>[ot,f(" "+u(e.addAccountText.accountPermissions.validation),1)]),_:1})]),_:1})):W("",!0)]),_:1}),a(b,{"button-text":e.addAccountText,onBackPressed:s[0]||(s[0]=i=>t.$emit("backPressed"))},null,8,["button-text"]),a(l,{name:"translate",mode:"out-in"},{default:o(()=>[(c(),d(g,{class:"pt-0 px-0 pb-4",key:e.addAccountText.accountPermissions.title},{default:o(()=>[a(h,{size:"h2"},{default:o(()=>[f(u(e.addAccountText.accountPermissions.title),1)]),_:1})]),_:1}))]),_:1}),y("p",at,u(e.addAccountText.accountPermissions.permissionDesc),1),a(l,{name:"translate",mode:"out-in"},{default:o(()=>[(c(),d(w,{class:"pt-2 pb-6",key:e.addAccountText.accountPermissions.desc},{default:o(()=>[a(A,{modelValue:r.userInputs.permissions.input,"onUpdate:modelValue":s[1]||(s[1]=i=>r.userInputs.permissions.input=i),"group-name":"account-permission",options:e.addAccountText.accountPermissions.permissionPref.answers,hint:"account-permssion-hint"},null,8,["modelValue","options"])]),_:1}))]),_:1}),a(T,{regText:e.addAccountText,onBackPressed:s[2]||(s[2]=i=>t.$emit("backPressed")),onNextPressed:m.validateAnswers},null,8,["regText","onNextPressed"])]),_:1})}const rt=P(nt,[["render",st]]),ct={name:"add-account-confirmation",props:{addAccountText:{type:Object,required:!0}},emits:["nextPressed","backPressed"],components:{WraCard:v,WraCardText:I,WraCardTitle:C,WraCardHeader:S,GdsNotify:E,GdsNotifyContent:J,GdsNotifyHeader:K,GdsNotifyHeading:R,GdsNotifyTitle:Z,FormBack:D,ButtonGroup:B},data(){return{memberData:{email:null,permission:null}}},methods:{endFlow:function(){this.accountStore.memberIncrement(),this.$router.push({name:"vlHome"})}},computed:{...V(H,["account"])},created(){Object.assign(this.memberData,this.accountStore.getMembers[this.accountStore.getMemberIndex])}};function dt(t,s,e,k,r,m){const p=n("form-back"),x=n("gds-notify-title"),b=n("gds-notify-header"),h=n("gds-notify-heading"),g=n("gds-notify-content"),A=n("gds-notify"),w=n("button-group"),T=n("wra-card");return c(),d(T,{class:"pa-8"},{default:o(()=>[a(p,{"button-text":e.addAccountText,onBackPressed:s[0]||(s[0]=_=>t.$emit("backPressed"))},null,8,["button-text"]),a(l,null,{default:o(()=>[a(A,{success:!0},{default:o(()=>[a(b,null,{default:o(()=>[a(x,null,{default:o(()=>[f(u(e.addAccountText.accountConfirmation.notifyTitle),1)]),_:1})]),_:1}),a(g,null,{default:o(()=>[a(h,null,{default:o(()=>[f(u(`${r.memberData.email} ${e.addAccountText.accountConfirmation.notifyHeading} ${e.addAccountText.accountConfirmation.permissionLevels[this.memberData.permission]}`),1)]),_:1}),y("p",null,u(`${e.addAccountText.accountConfirmation.notifyText} ${r.memberData.email}`),1)]),_:1})]),_:1})]),_:1}),a(w,{regText:e.addAccountText,onBackPressed:s[1]||(s[1]=_=>t.$emit("backPressed")),onNextPressed:s[2]||(s[2]=_=>t.$router.push({name:"vlHome"}))},null,8,["regText"])]),_:1})}const it=P(ct,[["render",dt]]),ut={name:"add-account",props:{lang:{type:String}},components:{FormBody:L,AddAccountDetails:et,AddAccountPermissions:rt,AddAccountConfirmation:it},data(){return{currentComponent:"AddAccountDetails",addAccountText:{accountDetails:{}},componentStack:[],componentHistory:new Set}},methods:{getText:function(){U.get(`./text/${this.lang}/addAccount.json?v=2`).then(t=>{this.addAccountText=t.data})},nextPage:function(t){this.componentStack.push(this.currentComponent),this.componentHistory.add(this.currentComponent),this.currentComponent=t},previousPage:function(){this.currentComponent=this.componentStack.pop(),this.currentComponent===void 0&&this.$router.push({name:"vlHome"})}},created(){this.getText()},watch:{lang:{handler(){this.getText()}}}};function lt(t,s,e,k,r,m){const p=n("form-body");return c(),d(p,{lang:e.lang,"wra-logo":!0,title:r.addAccountText.title,subtitle:r.addAccountText.subtitle},{default:o(()=>[a(l,{name:"translate",mode:"out-in"},{default:o(()=>[(c(),d(z(r.currentComponent),{key:r.currentComponent,onNextPressed:m.nextPage,onBackPressed:m.previousPage,"add-account-text":r.addAccountText,"edit-mode":t.False},null,40,["onNextPressed","onBackPressed","add-account-text","edit-mode"]))]),_:1})]),_:1},8,["lang","title","subtitle"])}const _t=P(ut,[["render",lt]]);export{_t as default};
